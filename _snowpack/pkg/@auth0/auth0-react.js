import{g as Zt}from"../common/polyfill-node:global-21e5c503.js";import{r as T}from"../common/index-abdc4d2d.js";import"../common/_commonjsHelpers-4f955397.js";var M=[],D=[],Li=typeof Uint8Array!="undefined"?Uint8Array:Array,We=!1;function Er(){We=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)M[t]=e[t],D[e.charCodeAt(t)]=t;D["-".charCodeAt(0)]=62,D["_".charCodeAt(0)]=63}function Hi(e){We||Er();var t,r,n,i,o,c,u=e.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=e[u-2]==="="?2:e[u-1]==="="?1:0,c=new Li(u*3/4-o),n=o>0?u-4:u;var a=0;for(t=0,r=0;t<n;t+=4,r+=3)i=D[e.charCodeAt(t)]<<18|D[e.charCodeAt(t+1)]<<12|D[e.charCodeAt(t+2)]<<6|D[e.charCodeAt(t+3)],c[a++]=i>>16&255,c[a++]=i>>8&255,c[a++]=i&255;return o===2?(i=D[e.charCodeAt(t)]<<2|D[e.charCodeAt(t+1)]>>4,c[a++]=i&255):o===1&&(i=D[e.charCodeAt(t)]<<10|D[e.charCodeAt(t+1)]<<4|D[e.charCodeAt(t+2)]>>2,c[a++]=i>>8&255,c[a++]=i&255),c}function Yi(e){return M[e>>18&63]+M[e>>12&63]+M[e>>6&63]+M[e&63]}function Ni(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(Yi(n));return i.join("")}function Qr(e){We||Er();for(var t,r=e.length,n=r%3,i="",o=[],c=16383,u=0,a=r-n;u<a;u+=c)o.push(Ni(e,u,u+c>a?a:u+c));return n===1?(t=e[r-1],i+=M[t>>2],i+=M[t<<4&63],i+="=="):n===2&&(t=(e[r-2]<<8)+e[r-1],i+=M[t>>10],i+=M[t>>4&63],i+=M[t<<2&63],i+="="),o.push(i),o.join("")}function le(e,t,r,n,i){var o,c,u=i*8-n-1,a=(1<<u)-1,s=a>>1,l=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=u;l>0;o=o*256+e[t+f],f+=d,l-=8);for(c=o&(1<<-l)-1,o>>=-l,l+=n;l>0;c=c*256+e[t+f],f+=d,l-=8);if(o===0)o=1-s;else{if(o===a)return c?NaN:(h?-1:1)*Infinity;c=c+Math.pow(2,n),o=o-s}return(h?-1:1)*c*Math.pow(2,o-n)}function Wr(e,t,r,n,i,o){var c,u,a,s=o*8-i-1,l=(1<<s)-1,f=l>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,b=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===Infinity?(u=isNaN(t)?1:0,c=l):(c=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-c))<1&&(c--,a*=2),c+f>=1?t+=d/a:t+=d*Math.pow(2,1-f),t*a>=2&&(c++,a/=2),c+f>=l?(u=0,c=l):c+f>=1?(u=(t*a-1)*Math.pow(2,i),c=c+f):(u=t*Math.pow(2,f-1)*Math.pow(2,i),c=0));i>=8;e[r+h]=u&255,h+=p,u/=256,i-=8);for(c=c<<i|u,s+=i;s>0;e[r+h]=c&255,h+=p,c/=256,s-=8);e[r+h-p]|=b*128}var _i={}.toString,kr=Array.isArray||function(e){return _i.call(e)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var Oi=50;y.TYPED_ARRAY_SUPPORT=Zt.TYPED_ARRAY_SUPPORT!==void 0?Zt.TYPED_ARRAY_SUPPORT:!0;function ke(){return y.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function rt(e,t){if(ke()<t)throw new RangeError("Invalid typed array length");return y.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=y.prototype):(e===null&&(e=new y(t)),e.length=t),e}function y(e,t,r){if(!y.TYPED_ARRAY_SUPPORT&&!(this instanceof y))return new y(e,t,r);if(typeof e=="number"){if(typeof t=="string")throw new Error("If encoding is specified then the first argument must be a string");return Je(this,e)}return Jr(this,e,t,r)}y.poolSize=8192,y._augment=function(e){return e.__proto__=y.prototype,e};function Jr(e,t,r,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&t instanceof ArrayBuffer?Di(e,t,r,n):typeof t=="string"?Pi(e,t,r):zi(e,t)}y.from=function(e,t,r){return Jr(null,e,t,r)},y.TYPED_ARRAY_SUPPORT&&(y.prototype.__proto__=Uint8Array.prototype,y.__proto__=Uint8Array);function Tr(e){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function Ki(e,t,r,n){return Tr(t),t<=0?rt(e,t):r!==void 0?typeof n=="string"?rt(e,t).fill(r,n):rt(e,t).fill(r):rt(e,t)}y.alloc=function(e,t,r){return Ki(null,e,t,r)};function Je(e,t){if(Tr(t),e=rt(e,t<0?0:Le(t)|0),!y.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}y.allocUnsafe=function(e){return Je(null,e)},y.allocUnsafeSlow=function(e){return Je(null,e)};function Pi(e,t,r){if((typeof r!="string"||r==="")&&(r="utf8"),!y.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=Lr(t,r)|0;e=rt(e,n);var i=e.write(t,r);return i!==n&&(e=e.slice(0,i)),e}function Te(e,t){var r=t.length<0?0:Le(t.length)|0;e=rt(e,r);for(var n=0;n<r;n+=1)e[n]=t[n]&255;return e}function Di(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return r===void 0&&n===void 0?t=new Uint8Array(t):n===void 0?t=new Uint8Array(t,r):t=new Uint8Array(t,r,n),y.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=y.prototype):e=Te(e,t),e}function zi(e,t){if(q(t)){var r=Le(t.length)|0;return e=rt(e,r),e.length===0||t.copy(e,0,0,r),e}if(t){if(typeof ArrayBuffer!="undefined"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||po(t.length)?rt(e,0):Te(e,t);if(t.type==="Buffer"&&kr(t.data))return Te(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Le(e){if(e>=ke())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ke().toString(16)+" bytes");return e|0}y.isBuffer=Io;function q(e){return!!(e!=null&&e._isBuffer)}y.compare=function(t,r){if(!q(t)||!q(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var n=t.length,i=r.length,o=0,c=Math.min(n,i);o<c;++o)if(t[o]!==r[o]){n=t[o],i=r[o];break}return n<i?-1:i<n?1:0},y.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(t,r){if(!kr(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return y.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<t.length;++n)r+=t[n].length;var i=y.allocUnsafe(r),o=0;for(n=0;n<t.length;++n){var c=t[n];if(!q(c))throw new TypeError('"list" argument must be an Array of Buffers');c.copy(i,o),o+=c.length}return i};function Lr(e,t){if(q(e))return e.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var r=e.length;if(r===0)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return he(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return zr(e).length;default:if(n)return he(e).length;t=(""+t).toLowerCase(),n=!0}}y.byteLength=Lr;function ji(e,t,r){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return co(this,t,r);case"utf8":case"utf-8":return _r(this,t,r);case"ascii":return io(this,t,r);case"latin1":case"binary":return oo(this,t,r);case"base64":return ro(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return uo(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}y.prototype._isBuffer=!0;function bt(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}y.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)bt(this,r,r+1);return this},y.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)bt(this,r,r+3),bt(this,r+1,r+2);return this},y.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)bt(this,r,r+7),bt(this,r+1,r+6),bt(this,r+2,r+5),bt(this,r+3,r+4);return this},y.prototype.toString=function(){var t=this.length|0;return t===0?"":arguments.length===0?_r(this,0,t):ji.apply(this,arguments)},y.prototype.equals=function(t){if(!q(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:y.compare(this,t)===0},y.prototype.inspect=function(){var t="",r=Oi;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},y.prototype.compare=function(t,r,n,i,o){if(!q(t))throw new TypeError("Argument must be a Buffer");if(r===void 0&&(r=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===t)return 0;for(var c=o-i,u=n-r,a=Math.min(c,u),s=this.slice(i,o),l=t.slice(r,n),f=0;f<a;++f)if(s[f]!==l[f]){c=s[f],u=l[f];break}return c<u?-1:u<c?1:0};function Hr(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof t=="string"&&(t=y.from(t,n)),q(t))return t.length===0?-1:Yr(e,t,r,n,i);if(typeof t=="number")return t=t&255,y.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):Yr(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Yr(e,t,r,n,i){var o=1,c=e.length,u=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;o=2,c/=2,u/=2,r/=2}function a(h,p){return o===1?h[p]:h.readUInt16BE(p*o)}var s;if(i){var l=-1;for(s=r;s<c;s++)if(a(e,s)===a(t,l===-1?0:s-l)){if(l===-1&&(l=s),s-l+1===u)return l*o}else l!==-1&&(s-=s-l),l=-1}else for(r+u>c&&(r=c-u),s=r;s>=0;s--){for(var f=!0,d=0;d<u;d++)if(a(e,s+d)!==a(t,d)){f=!1;break}if(f)return s}return-1}y.prototype.includes=function(t,r,n){return this.indexOf(t,r,n)!==-1},y.prototype.indexOf=function(t,r,n){return Hr(this,t,r,n,!0)},y.prototype.lastIndexOf=function(t,r,n){return Hr(this,t,r,n,!1)};function Mi(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var c=0;c<n;++c){var u=parseInt(t.substr(c*2,2),16);if(isNaN(u))return c;e[r+c]=u}return c}function qi(e,t,r,n){return ge(he(t,e.length-r),e,r,n)}function Nr(e,t,r,n){return ge(ho(t),e,r,n)}function $i(e,t,r,n){return Nr(e,t,r,n)}function to(e,t,r,n){return ge(zr(t),e,r,n)}function eo(e,t,r,n){return ge(go(t,e.length-r),e,r,n)}y.prototype.write=function(t,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-r;if((n===void 0||n>o)&&(n=o),t.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var c=!1;;)switch(i){case"hex":return Mi(this,t,r,n);case"utf8":case"utf-8":return qi(this,t,r,n);case"ascii":return Nr(this,t,r,n);case"latin1":case"binary":return $i(this,t,r,n);case"base64":return to(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return eo(this,t,r,n);default:if(c)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),c=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ro(e,t,r){return t===0&&r===e.length?Qr(e):Qr(e.slice(t,r))}function _r(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o=e[i],c=null,u=o>239?4:o>223?3:o>191?2:1;if(i+u<=r){var a,s,l,f;switch(u){case 1:o<128&&(c=o);break;case 2:a=e[i+1],(a&192)==128&&(f=(o&31)<<6|a&63,f>127&&(c=f));break;case 3:a=e[i+1],s=e[i+2],(a&192)==128&&(s&192)==128&&(f=(o&15)<<12|(a&63)<<6|s&63,f>2047&&(f<55296||f>57343)&&(c=f));break;case 4:a=e[i+1],s=e[i+2],l=e[i+3],(a&192)==128&&(s&192)==128&&(l&192)==128&&(f=(o&15)<<18|(a&63)<<12|(s&63)<<6|l&63,f>65535&&f<1114112&&(c=f))}}c===null?(c=65533,u=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|c&1023),n.push(c),i+=u}return no(n)}var Or=4096;function no(e){var t=e.length;if(t<=Or)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=Or));return r}function io(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]&127);return n}function oo(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function co(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=fo(e[o]);return i}function uo(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}y.prototype.slice=function(t,r){var n=this.length;t=~~t,r=r===void 0?n:~~r,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<t&&(r=t);var i;if(y.TYPED_ARRAY_SUPPORT)i=this.subarray(t,r),i.__proto__=y.prototype;else{var o=r-t;i=new y(o,void 0);for(var c=0;c<o;++c)i[c]=this[c+t]}return i};function W(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}y.prototype.readUIntLE=function(t,r,n){t=t|0,r=r|0,n||W(t,r,this.length);for(var i=this[t],o=1,c=0;++c<r&&(o*=256);)i+=this[t+c]*o;return i},y.prototype.readUIntBE=function(t,r,n){t=t|0,r=r|0,n||W(t,r,this.length);for(var i=this[t+--r],o=1;r>0&&(o*=256);)i+=this[t+--r]*o;return i},y.prototype.readUInt8=function(t,r){return r||W(t,1,this.length),this[t]},y.prototype.readUInt16LE=function(t,r){return r||W(t,2,this.length),this[t]|this[t+1]<<8},y.prototype.readUInt16BE=function(t,r){return r||W(t,2,this.length),this[t]<<8|this[t+1]},y.prototype.readUInt32LE=function(t,r){return r||W(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},y.prototype.readUInt32BE=function(t,r){return r||W(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},y.prototype.readIntLE=function(t,r,n){t=t|0,r=r|0,n||W(t,r,this.length);for(var i=this[t],o=1,c=0;++c<r&&(o*=256);)i+=this[t+c]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i},y.prototype.readIntBE=function(t,r,n){t=t|0,r=r|0,n||W(t,r,this.length);for(var i=r,o=1,c=this[t+--i];i>0&&(o*=256);)c+=this[t+--i]*o;return o*=128,c>=o&&(c-=Math.pow(2,8*r)),c},y.prototype.readInt8=function(t,r){return r||W(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},y.prototype.readInt16LE=function(t,r){r||W(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n},y.prototype.readInt16BE=function(t,r){r||W(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n},y.prototype.readInt32LE=function(t,r){return r||W(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},y.prototype.readInt32BE=function(t,r){return r||W(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},y.prototype.readFloatLE=function(t,r){return r||W(t,4,this.length),le(this,t,!0,23,4)},y.prototype.readFloatBE=function(t,r){return r||W(t,4,this.length),le(this,t,!1,23,4)},y.prototype.readDoubleLE=function(t,r){return r||W(t,8,this.length),le(this,t,!0,52,8)},y.prototype.readDoubleBE=function(t,r){return r||W(t,8,this.length),le(this,t,!1,52,8)};function L(e,t,r,n,i,o){if(!q(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}y.prototype.writeUIntLE=function(t,r,n,i){if(t=+t,r=r|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;L(this,t,r,n,o,0)}var c=1,u=0;for(this[r]=t&255;++u<n&&(c*=256);)this[r+u]=t/c&255;return r+n},y.prototype.writeUIntBE=function(t,r,n,i){if(t=+t,r=r|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;L(this,t,r,n,o,0)}var c=n-1,u=1;for(this[r+c]=t&255;--c>=0&&(u*=256);)this[r+c]=t/u&255;return r+n},y.prototype.writeUInt8=function(t,r,n){return t=+t,r=r|0,n||L(this,t,r,1,255,0),y.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=t&255,r+1};function fe(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}y.prototype.writeUInt16LE=function(t,r,n){return t=+t,r=r|0,n||L(this,t,r,2,65535,0),y.TYPED_ARRAY_SUPPORT?(this[r]=t&255,this[r+1]=t>>>8):fe(this,t,r,!0),r+2},y.prototype.writeUInt16BE=function(t,r,n){return t=+t,r=r|0,n||L(this,t,r,2,65535,0),y.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=t&255):fe(this,t,r,!1),r+2};function de(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>(n?i:3-i)*8&255}y.prototype.writeUInt32LE=function(t,r,n){return t=+t,r=r|0,n||L(this,t,r,4,4294967295,0),y.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t&255):de(this,t,r,!0),r+4},y.prototype.writeUInt32BE=function(t,r,n){return t=+t,r=r|0,n||L(this,t,r,4,4294967295,0),y.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255):de(this,t,r,!1),r+4},y.prototype.writeIntLE=function(t,r,n,i){if(t=+t,r=r|0,!i){var o=Math.pow(2,8*n-1);L(this,t,r,n,o-1,-o)}var c=0,u=1,a=0;for(this[r]=t&255;++c<n&&(u*=256);)t<0&&a===0&&this[r+c-1]!==0&&(a=1),this[r+c]=(t/u>>0)-a&255;return r+n},y.prototype.writeIntBE=function(t,r,n,i){if(t=+t,r=r|0,!i){var o=Math.pow(2,8*n-1);L(this,t,r,n,o-1,-o)}var c=n-1,u=1,a=0;for(this[r+c]=t&255;--c>=0&&(u*=256);)t<0&&a===0&&this[r+c+1]!==0&&(a=1),this[r+c]=(t/u>>0)-a&255;return r+n},y.prototype.writeInt8=function(t,r,n){return t=+t,r=r|0,n||L(this,t,r,1,127,-128),y.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=t&255,r+1},y.prototype.writeInt16LE=function(t,r,n){return t=+t,r=r|0,n||L(this,t,r,2,32767,-32768),y.TYPED_ARRAY_SUPPORT?(this[r]=t&255,this[r+1]=t>>>8):fe(this,t,r,!0),r+2},y.prototype.writeInt16BE=function(t,r,n){return t=+t,r=r|0,n||L(this,t,r,2,32767,-32768),y.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=t&255):fe(this,t,r,!1),r+2},y.prototype.writeInt32LE=function(t,r,n){return t=+t,r=r|0,n||L(this,t,r,4,2147483647,-2147483648),y.TYPED_ARRAY_SUPPORT?(this[r]=t&255,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):de(this,t,r,!0),r+4},y.prototype.writeInt32BE=function(t,r,n){return t=+t,r=r|0,n||L(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),y.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255):de(this,t,r,!1),r+4};function Kr(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Pr(e,t,r,n,i){return i||Kr(e,t,r,4),Wr(e,t,r,n,23,4),r+4}y.prototype.writeFloatLE=function(t,r,n){return Pr(this,t,r,!0,n)},y.prototype.writeFloatBE=function(t,r,n){return Pr(this,t,r,!1,n)};function Dr(e,t,r,n,i){return i||Kr(e,t,r,8),Wr(e,t,r,n,52,8),r+8}y.prototype.writeDoubleLE=function(t,r,n){return Dr(this,t,r,!0,n)},y.prototype.writeDoubleBE=function(t,r,n){return Dr(this,t,r,!1,n)},y.prototype.copy=function(t,r,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),r>=t.length&&(r=t.length),r||(r=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-r<i-n&&(i=t.length-r+n);var o=i-n,c;if(this===t&&n<r&&r<i)for(c=o-1;c>=0;--c)t[c+r]=this[c+n];else if(o<1e3||!y.TYPED_ARRAY_SUPPORT)for(c=0;c<o;++c)t[c+r]=this[c+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),r);return o},y.prototype.fill=function(t,r,n,i){if(typeof t=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),t.length===1){var o=t.charCodeAt(0);o<256&&(t=o)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!y.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof t=="number"&&(t=t&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);var c;if(typeof t=="number")for(c=r;c<n;++c)this[c]=t;else{var u=q(t)?t:he(new y(t,i).toString()),a=u.length;for(c=0;c<n-r;++c)this[c+r]=u[c%a]}return this};var ao=/[^+\/0-9A-Za-z-_]/g;function so(e){if(e=lo(e).replace(ao,""),e.length<2)return"";for(;e.length%4!=0;)e=e+"=";return e}function lo(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function fo(e){return e<16?"0"+e.toString(16):e.toString(16)}function he(e,t){t=t||Infinity;for(var r,n=e.length,i=null,o=[],c=0;c<n;++c){if(r=e.charCodeAt(c),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}else if(c+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function ho(e){for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}function go(e,t){for(var r,n,i,o=[],c=0;c<e.length&&!((t-=2)<0);++c)r=e.charCodeAt(c),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function zr(e){return Hi(so(e))}function ge(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function po(e){return e!==e}function Io(e){return e!=null&&(!!e._isBuffer||jr(e)||yo(e))}function jr(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function yo(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&jr(e.slice(0,0))}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var He=function(e,t){return He=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},He(e,t)};function mo(e,t){He(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var E=function(){return E=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},E.apply(this,arguments)};function Ye(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function pe(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function u(l){try{s(n.next(l))}catch(f){c(f)}}function a(l){try{s(n.throw(l))}catch(f){c(f)}}function s(l){l.done?o(l.value):i(l.value).then(u,a)}s((n=n.apply(e,t||[])).next())})}function Ie(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(s){return function(l){return a([s,l])}}function a(s){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=s[0]&2?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[s[0]&2,o.value]),s[0]){case 0:case 1:o=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,i=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(s[0]===6&&r.label<o[1]){r.label=o[1],o=s;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(s);break}o[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(l){s=[6,l],i=0}finally{n=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Mr=function(e,t){return(Mr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])})(e,t)};function ye(e,t){function r(){this.constructor=e}Mr(e,t),e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var w=function(){return(w=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function z(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function V(e,t,r,n){return new(r||(r=Promise))(function(i,o){function c(s){try{a(n.next(s))}catch(l){o(l)}}function u(s){try{a(n.throw(s))}catch(l){o(l)}}function a(s){s.done?i(s.value):new r(function(l){l(s.value)}).then(c,u)}a((n=n.apply(e,t||[])).next())})}function Z(e,t){var r,n,i,o,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(a){return function(s){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,n&&(i=2&l[0]?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return c.label++,{value:l[1],done:!1};case 5:c.label++,n=l[1],l=[0];continue;case 7:l=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!((i=i.length>0&&i[i.length-1])||l[0]!==6&&l[0]!==2)){c=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){c.label=l[1];break}if(l[0]===6&&c.label<i[1]){c.label=i[1],i=l;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(l);break}i[2]&&c.ops.pop(),c.trys.pop();continue}l=t.call(e,c)}catch(f){l=[6,f],n=0}finally{r=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([a,s])}}}var $=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof Zt!="undefined"?Zt:typeof self!="undefined"?self:{};function Ne(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function At(e,t){return e(t={exports:{}},t.exports),t.exports}var me=function(e){return e&&e.Math==Math&&e},F=me(typeof globalThis=="object"&&globalThis)||me(typeof window=="object"&&window)||me(typeof self=="object"&&self)||me(typeof $=="object"&&$)||function(){return this}()||Function("return this")(),k=function(e){try{return!!e()}catch(t){return!0}},A=!k(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),qr={}.propertyIsEnumerable,$r=Object.getOwnPropertyDescriptor,_e={f:$r&&!qr.call({1:2},1)?function(e){var t=$r(this,e);return!!t&&t.enumerable}:qr},vt=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},bo={}.toString,Bt=function(e){return bo.call(e).slice(8,-1)},vo="".split,tn=k(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return Bt(e)=="String"?vo.call(e,""):Object(e)}:Object,Kt=function(e){if(e==null)throw TypeError("Can't call method on "+e);return e},nt=function(e){return tn(Kt(e))},G=function(e){return typeof e=="object"?e!==null:typeof e=="function"},Gt=function(e,t){if(!G(e))return e;var r,n;if(t&&typeof(r=e.toString)=="function"&&!G(n=r.call(e))||typeof(r=e.valueOf)=="function"&&!G(n=r.call(e))||!t&&typeof(r=e.toString)=="function"&&!G(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")},Bo={}.hasOwnProperty,C=function(e,t){return Bo.call(e,t)},Oe=F.document,Co=G(Oe)&&G(Oe.createElement),en=function(e){return Co?Oe.createElement(e):{}},rn=!A&&!k(function(){return Object.defineProperty(en("div"),"a",{get:function(){return 7}}).a!=7}),nn=Object.getOwnPropertyDescriptor,Pt={f:A?nn:function(e,t){if(e=nt(e),t=Gt(t,!0),rn)try{return nn(e,t)}catch(r){}if(C(e,t))return vt(!_e.f.call(e,t),e[t])}},H=function(e){if(!G(e))throw TypeError(String(e)+" is not an object");return e},on=Object.defineProperty,Y={f:A?on:function(e,t,r){if(H(e),t=Gt(t,!0),H(r),rn)try{return on(e,t,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},O=A?function(e,t,r){return Y.f(e,t,vt(1,r))}:function(e,t,r){return e[t]=r,e},Ke=function(e,t){try{O(F,e,t)}catch(r){F[e]=t}return t},Ct=F["__core-js_shared__"]||Ke("__core-js_shared__",{}),Fo=Function.toString;typeof Ct.inspectSource!="function"&&(Ct.inspectSource=function(e){return Fo.call(e)});var be,Dt,ve,cn=Ct.inspectSource,un=F.WeakMap,wo=typeof un=="function"&&/native code/.test(cn(un)),Ft=At(function(e){(e.exports=function(t,r){return Ct[t]||(Ct[t]=r!==void 0?r:{})})("versions",[]).push({version:"3.8.0",mode:"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})}),Uo=0,xo=Math.random(),Rt=function(e){return"Symbol("+String(e===void 0?"":e)+")_"+(++Uo+xo).toString(36)},an=Ft("keys"),Be=function(e){return an[e]||(an[e]=Rt(e))},Xt={},So=F.WeakMap;if(wo){var Et=Ct.state||(Ct.state=new So),Vo=Et.get,Zo=Et.has,Ao=Et.set;be=function(e,t){return t.facade=e,Ao.call(Et,e,t),t},Dt=function(e){return Vo.call(Et,e)||{}},ve=function(e){return Zo.call(Et,e)}}else{var zt=Be("state");Xt[zt]=!0,be=function(e,t){return t.facade=e,O(e,zt,t),t},Dt=function(e){return C(e,zt)?e[zt]:{}},ve=function(e){return C(e,zt)}}var Pe,tt={set:be,get:Dt,has:ve,enforce:function(e){return ve(e)?Dt(e):be(e,{})},getterFor:function(e){return function(t){var r;if(!G(t)||(r=Dt(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}},it=At(function(e){var t=tt.get,r=tt.enforce,n=String(String).split("String");(e.exports=function(i,o,c,u){var a,s=!!u&&!!u.unsafe,l=!!u&&!!u.enumerable,f=!!u&&!!u.noTargetGet;typeof c=="function"&&(typeof o!="string"||C(c,"name")||O(c,"name",o),(a=r(c)).source||(a.source=n.join(typeof o=="string"?o:""))),i!==F?(s?!f&&i[o]&&(l=!0):delete i[o],l?i[o]=c:O(i,o,c)):l?i[o]=c:Ke(o,c)})(Function.prototype,"toString",function(){return typeof this=="function"&&t(this).source||cn(this)})}),ft=F,sn=function(e){return typeof e=="function"?e:void 0},jt=function(e,t){return arguments.length<2?sn(ft[e])||sn(F[e]):ft[e]&&ft[e][t]||F[e]&&F[e][t]},Go=Math.ceil,Ro=Math.floor,De=function(e){return isNaN(e=+e)?0:(e>0?Ro:Go)(e)},Xo=Math.min,Qt=function(e){return e>0?Xo(De(e),9007199254740991):0},Eo=Math.max,Qo=Math.min,ln=function(e){return function(t,r,n){var i,o=nt(t),c=Qt(o.length),u=function(a,s){var l=De(a);return l<0?Eo(l+s,0):Qo(l,s)}(n,c);if(e&&r!=r){for(;c>u;)if((i=o[u++])!=i)return!0}else for(;c>u;u++)if((e||u in o)&&o[u]===r)return e||u||0;return!e&&-1}},fn={includes:ln(!0),indexOf:ln(!1)},Wo=fn.indexOf,dn=function(e,t){var r,n=nt(e),i=0,o=[];for(r in n)!C(Xt,r)&&C(n,r)&&o.push(r);for(;t.length>i;)C(n,r=t[i++])&&(~Wo(o,r)||o.push(r));return o},Ce=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ko=Ce.concat("length","prototype"),ze={f:Object.getOwnPropertyNames||function(e){return dn(e,ko)}},Fe={f:Object.getOwnPropertySymbols},Jo=jt("Reflect","ownKeys")||function(e){var t=ze.f(H(e)),r=Fe.f;return r?t.concat(r(e)):t},hn=function(e,t){for(var r=Jo(t),n=Y.f,i=Pt.f,o=0;o<r.length;o++){var c=r[o];C(e,c)||n(e,c,i(t,c))}},To=/#|\.prototype\./,Mt=function(e,t){var r=Ho[Lo(e)];return r==No||r!=Yo&&(typeof t=="function"?k(t):!!t)},Lo=Mt.normalize=function(e){return String(e).replace(To,".").toLowerCase()},Ho=Mt.data={},Yo=Mt.NATIVE="N",No=Mt.POLYFILL="P",je=Mt,_o=Pt.f,J=function(e,t){var r,n,i,o,c,u=e.target,a=e.global,s=e.stat;if(r=a?F:s?F[u]||Ke(u,{}):(F[u]||{}).prototype)for(n in t){if(o=t[n],i=e.noTargetGet?(c=_o(r,n))&&c.value:r[n],!je(a?n:u+(s?".":"#")+n,e.forced)&&i!==void 0){if(typeof o==typeof i)continue;hn(o,i)}(e.sham||i&&i.sham)&&O(o,"sham",!0),it(r,n,o,e)}},ot=!!Object.getOwnPropertySymbols&&!k(function(){return!String(Symbol())}),gn=ot&&!Symbol.sham&&typeof Symbol.iterator=="symbol",we=Ft("wks"),qt=F.Symbol,Oo=gn?qt:qt&&qt.withoutSetter||Rt,x=function(e){return C(we,e)||(ot&&C(qt,e)?we[e]=qt[e]:we[e]=Oo("Symbol."+e)),we[e]},Ko=x("match"),pn=function(e){if(function(t){var r;return G(t)&&((r=t[Ko])!==void 0?!!r:Bt(t)=="RegExp")}(e))throw TypeError("The method doesn't accept regular expressions");return e},Po=x("match"),In=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[Po]=!1,"/./"[e](t)}catch(n){}}return!1},Do=Pt.f,yn="".startsWith,zo=Math.min,mn=In("startsWith"),jo=!(mn||(Pe=Do(String.prototype,"startsWith"),!Pe||Pe.writable));J({target:"String",proto:!0,forced:!jo&&!mn},{startsWith:function(e){var t=String(Kt(this));pn(e);var r=Qt(zo(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return yn?yn.call(t,n,r):t.slice(r,r+n.length)===n}});var Wt,Ue,bn=function(e){if(typeof e!="function")throw TypeError(String(e)+" is not a function");return e},$t=function(e,t,r){if(bn(e),t===void 0)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)}}return function(){return e.apply(t,arguments)}},Mo=Function.call,Me=function(e,t,r){return $t(Mo,F[e].prototype[t],r)},xe=(Me("String","startsWith"),Array.isArray||function(e){return Bt(e)=="Array"}),te=function(e){return Object(Kt(e))},Se=function(e,t,r){var n=Gt(t);n in e?Y.f(e,n,vt(0,r)):e[n]=r},qo=x("species"),vn=function(e,t){var r;return xe(e)&&(typeof(r=e.constructor)!="function"||r!==Array&&!xe(r.prototype)?G(r)&&(r=r[qo])===null&&(r=void 0):r=void 0),new(r===void 0?Array:r)(t===0?0:t)},qe=jt("navigator","userAgent")||"",Bn=F.process,Cn=Bn&&Bn.versions,Fn=Cn&&Cn.v8;Fn?Ue=(Wt=Fn.split("."))[0]+Wt[1]:qe&&(!(Wt=qe.match(/Edge\/(\d+)/))||Wt[1]>=74)&&(Wt=qe.match(/Chrome\/(\d+)/))&&(Ue=Wt[1]);var wn=Ue&&+Ue,$o=x("species"),Un=x("isConcatSpreadable"),tc=wn>=51||!k(function(){var e=[];return e[Un]=!1,e.concat()[0]!==e}),ec=function(e){return wn>=51||!k(function(){var t=[];return(t.constructor={})[$o]=function(){return{foo:1}},t[e](Boolean).foo!==1})}("concat"),rc=function(e){if(!G(e))return!1;var t=e[Un];return t!==void 0?!!t:xe(e)};J({target:"Array",proto:!0,forced:!tc||!ec},{concat:function(e){var t,r,n,i,o,c=te(this),u=vn(c,0),a=0;for(t=-1,n=arguments.length;t<n;t++)if(rc(o=t===-1?c:arguments[t])){if(a+(i=Qt(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<i;r++,a++)r in o&&Se(u,a,o[r])}else{if(a>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Se(u,a++,o)}return u.length=a,u}});var xn={};xn[x("toStringTag")]="z";var $e=String(xn)==="[object z]",nc=x("toStringTag"),ic=Bt(function(){return arguments}())=="Arguments",Ve=$e?Bt:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=function(i,o){try{return i[o]}catch(c){}}(t=Object(e),nc))=="string"?r:ic?Bt(t):(n=Bt(t))=="Object"&&typeof t.callee=="function"?"Arguments":n},oc=$e?{}.toString:function(){return"[object "+Ve(this)+"]"};$e||it(Object.prototype,"toString",oc,{unsafe:!0});var tr,er=Object.keys||function(e){return dn(e,Ce)},cc=A?Object.defineProperties:function(e,t){H(e);for(var r,n=er(t),i=n.length,o=0;i>o;)Y.f(e,r=n[o++],t[r]);return e},uc=jt("document","documentElement"),Sn=Be("IE_PROTO"),rr=function(){},Vn=function(e){return"<script>"+e+"</script>"},Ze=function(){try{tr=document.domain&&new ActiveXObject("htmlfile")}catch(n){}var e,t;Ze=tr?function(n){n.write(Vn("")),n.close();var i=n.parentWindow.Object;return n=null,i}(tr):((t=en("iframe")).style.display="none",uc.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Vn("document.F=Object")),e.close(),e.F);for(var r=Ce.length;r--;)delete Ze.prototype[Ce[r]];return Ze()};Xt[Sn]=!0;var dt=Object.create||function(e,t){var r;return e!==null?(rr.prototype=H(e),r=new rr,rr.prototype=null,r[Sn]=e):r=Ze(),t===void 0?r:cc(r,t)},Zn=ze.f,ac={}.toString,An=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Gn={f:function(e){return An&&ac.call(e)=="[object Window]"?function(t){try{return Zn(t)}catch(r){return An.slice()}}(e):Zn(nt(e))}},Rn={f:x},sc=Y.f,N=function(e){var t=ft.Symbol||(ft.Symbol={});C(t,e)||sc(t,e,{value:Rn.f(e)})},lc=Y.f,Xn=x("toStringTag"),wt=function(e,t,r){e&&!C(e=r?e:e.prototype,Xn)&&lc(e,Xn,{configurable:!0,value:t})},En=[].push,ht=function(e){var t=e==1,r=e==2,n=e==3,i=e==4,o=e==6,c=e==7,u=e==5||o;return function(a,s,l,f){for(var d,h,p=te(a),b=tn(p),I=$t(s,l,3),g=Qt(b.length),m=0,v=f||vn,B=t?v(a,g):r||c?v(a,0):void 0;g>m;m++)if((u||m in b)&&(h=I(d=b[m],m,p),e))if(t)B[m]=h;else if(h)switch(e){case 3:return!0;case 5:return d;case 6:return m;case 2:En.call(B,d)}else switch(e){case 4:return!1;case 7:En.call(B,d)}return o?-1:n||i?i:B}},Ae={forEach:ht(0),map:ht(1),filter:ht(2),some:ht(3),every:ht(4),find:ht(5),findIndex:ht(6),filterOut:ht(7)}.forEach,_=Be("hidden"),Qn=x("toPrimitive"),fc=tt.set,Wn=tt.getterFor("Symbol"),j=Object.prototype,K=F.Symbol,ee=jt("JSON","stringify"),kn=Pt.f,gt=Y.f,Jn=Gn.f,dc=_e.f,ct=Ft("symbols"),re=Ft("op-symbols"),nr=Ft("string-to-symbol-registry"),ir=Ft("symbol-to-string-registry"),hc=Ft("wks"),or=F.QObject,cr=!or||!or.prototype||!or.prototype.findChild,ur=A&&k(function(){return dt(gt({},"a",{get:function(){return gt(this,"a",{value:7}).a}})).a!=7})?function(e,t,r){var n=kn(j,t);n&&delete j[t],gt(e,t,r),n&&e!==j&&gt(j,t,n)}:gt,ar=function(e,t){var r=ct[e]=dt(K.prototype);return fc(r,{type:"Symbol",tag:e,description:t}),A||(r.description=t),r},sr=gn?function(e){return typeof e=="symbol"}:function(e){return Object(e)instanceof K},Ge=function(e,t,r){e===j&&Ge(re,t,r),H(e);var n=Gt(t,!0);return H(r),C(ct,n)?(r.enumerable?(C(e,_)&&e[_][n]&&(e[_][n]=!1),r=dt(r,{enumerable:vt(0,!1)})):(C(e,_)||gt(e,_,vt(1,{})),e[_][n]=!0),ur(e,n,r)):gt(e,n,r)},Tn=function(e,t){H(e);var r=nt(t),n=er(r).concat(fr(r));return Ae(n,function(i){A&&!lr.call(r,i)||Ge(e,i,r[i])}),e},lr=function(e){var t=Gt(e,!0),r=dc.call(this,t);return!(this===j&&C(ct,t)&&!C(re,t))&&(!(r||!C(this,t)||!C(ct,t)||C(this,_)&&this[_][t])||r)},Ln=function(e,t){var r=nt(e),n=Gt(t,!0);if(r!==j||!C(ct,n)||C(re,n)){var i=kn(r,n);return!i||!C(ct,n)||C(r,_)&&r[_][n]||(i.enumerable=!0),i}},Hn=function(e){var t=Jn(nt(e)),r=[];return Ae(t,function(n){C(ct,n)||C(Xt,n)||r.push(n)}),r},fr=function(e){var t=e===j,r=Jn(t?re:nt(e)),n=[];return Ae(r,function(i){!C(ct,i)||t&&!C(j,i)||n.push(ct[i])}),n};if(ot||(it((K=function(){if(this instanceof K)throw TypeError("Symbol is not a constructor");var e=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,t=Rt(e),r=function(n){this===j&&r.call(re,n),C(this,_)&&C(this[_],t)&&(this[_][t]=!1),ur(this,t,vt(1,n))};return A&&cr&&ur(j,t,{configurable:!0,set:r}),ar(t,e)}).prototype,"toString",function(){return Wn(this).tag}),it(K,"withoutSetter",function(e){return ar(Rt(e),e)}),_e.f=lr,Y.f=Ge,Pt.f=Ln,ze.f=Gn.f=Hn,Fe.f=fr,Rn.f=function(e){return ar(x(e),e)},A&&(gt(K.prototype,"description",{configurable:!0,get:function(){return Wn(this).description}}),it(j,"propertyIsEnumerable",lr,{unsafe:!0}))),J({global:!0,wrap:!0,forced:!ot,sham:!ot},{Symbol:K}),Ae(er(hc),function(e){N(e)}),J({target:"Symbol",stat:!0,forced:!ot},{for:function(e){var t=String(e);if(C(nr,t))return nr[t];var r=K(t);return nr[t]=r,ir[r]=t,r},keyFor:function(e){if(!sr(e))throw TypeError(e+" is not a symbol");if(C(ir,e))return ir[e]},useSetter:function(){cr=!0},useSimple:function(){cr=!1}}),J({target:"Object",stat:!0,forced:!ot,sham:!A},{create:function(e,t){return t===void 0?dt(e):Tn(dt(e),t)},defineProperty:Ge,defineProperties:Tn,getOwnPropertyDescriptor:Ln}),J({target:"Object",stat:!0,forced:!ot},{getOwnPropertyNames:Hn,getOwnPropertySymbols:fr}),J({target:"Object",stat:!0,forced:k(function(){Fe.f(1)})},{getOwnPropertySymbols:function(e){return Fe.f(te(e))}}),ee){var gc=!ot||k(function(){var e=K();return ee([e])!="[null]"||ee({a:e})!="{}"||ee(Object(e))!="{}"});J({target:"JSON",stat:!0,forced:gc},{stringify:function(e,t,r){for(var n,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);if(n=t,(G(t)||e!==void 0)&&!sr(e))return xe(t)||(t=function(c,u){if(typeof n=="function"&&(u=n.call(this,c,u)),!sr(u))return u}),i[1]=t,ee.apply(null,i)}})}K.prototype[Qn]||O(K.prototype,Qn,K.prototype.valueOf),wt(K,"Symbol"),Xt[_]=!0,N("asyncIterator");var pc=Y.f,ut=F.Symbol;if(A&&typeof ut=="function"&&(!("description"in ut.prototype)||ut().description!==void 0)){var Yn={},ne=function(){var e=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),t=this instanceof ne?new ut(e):e===void 0?ut():ut(e);return e===""&&(Yn[t]=!0),t};hn(ne,ut);var dr=ne.prototype=ut.prototype;dr.constructor=ne;var Ic=dr.toString,yc=String(ut("test"))=="Symbol(test)",mc=/^Symbol\((.*)\)[^)]+$/;pc(dr,"description",{configurable:!0,get:function(){var e=G(this)?this.valueOf():this,t=Ic.call(e);if(C(Yn,e))return"";var r=yc?t.slice(7,-1):t.replace(mc,"$1");return r===""?void 0:r}}),J({global:!0,forced:!0},{Symbol:ne})}N("hasInstance"),N("isConcatSpreadable"),N("iterator"),N("match"),N("matchAll"),N("replace"),N("search"),N("species"),N("split"),N("toPrimitive"),N("toStringTag"),N("unscopables"),wt(F.JSON,"JSON",!0),wt(Math,"Math",!0),J({global:!0},{Reflect:{}}),wt(F.Reflect,"Reflect",!0),ft.Symbol;var kt,Nn,_n,On=function(e){return function(t,r){var n,i,o=String(Kt(t)),c=De(r),u=o.length;return c<0||c>=u?e?"":void 0:(n=o.charCodeAt(c))<55296||n>56319||c+1===u||(i=o.charCodeAt(c+1))<56320||i>57343?e?o.charAt(c):n:e?o.slice(c,c+2):i-56320+(n-55296<<10)+65536}},bc={codeAt:On(!1),charAt:On(!0)},vc=!k(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Kn=Be("IE_PROTO"),Bc=Object.prototype,Ut=vc?Object.getPrototypeOf:function(e){return e=te(e),C(e,Kn)?e[Kn]:typeof e.constructor=="function"&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Bc:null},Pn=x("iterator"),Dn=!1;[].keys&&("next"in(_n=[].keys())?(Nn=Ut(Ut(_n)))!==Object.prototype&&(kt=Nn):Dn=!0),kt==null&&(kt={}),C(kt,Pn)||O(kt,Pn,function(){return this});var hr={IteratorPrototype:kt,BUGGY_SAFARI_ITERATORS:Dn},Jt={},Cc=hr.IteratorPrototype,Fc=function(){return this},at=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(n){}return function(n,i){return H(n),function(o){if(!G(o)&&o!==null)throw TypeError("Can't set "+String(o)+" as a prototype")}(i),t?e.call(n,i):n.__proto__=i,n}}():void 0),gr=hr.IteratorPrototype,Re=hr.BUGGY_SAFARI_ITERATORS,ie=x("iterator"),wc=function(){return this},pr=function(e,t,r,n,i,o,c){(function(g,m,v){var B=m+" Iterator";g.prototype=dt(Cc,{next:vt(1,v)}),wt(g,B,!1),Jt[B]=Fc})(r,t,n);var u,a,s,l=function(g){if(g===i&&b)return b;if(!Re&&g in h)return h[g];switch(g){case"keys":case"values":case"entries":return function(){return new r(this,g)}}return function(){return new r(this)}},f=t+" Iterator",d=!1,h=e.prototype,p=h[ie]||h["@@iterator"]||i&&h[i],b=!Re&&p||l(i),I=t=="Array"&&h.entries||p;if(I&&(u=Ut(I.call(new e)),gr!==Object.prototype&&u.next&&(Ut(u)!==gr&&(at?at(u,gr):typeof u[ie]!="function"&&O(u,ie,wc)),wt(u,f,!0))),i=="values"&&p&&p.name!=="values"&&(d=!0,b=function(){return p.call(this)}),h[ie]!==b&&O(h,ie,b),Jt[t]=b,i)if(a={values:l("values"),keys:o?b:l("keys"),entries:l("entries")},c)for(s in a)(Re||d||!(s in h))&&it(h,s,a[s]);else J({target:t,proto:!0,forced:Re||d},a);return a},Uc=bc.charAt,xc=tt.set,Sc=tt.getterFor("String Iterator");pr(String,"String",function(e){xc(this,{type:"String Iterator",string:String(e),index:0})},function(){var e,t=Sc(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=Uc(r,n),t.index+=e.length,{value:e,done:!1})});var Ir=function(e){var t=e.return;if(t!==void 0)return H(t.call(e)).value},Vc=function(e,t,r,n){try{return n?t(H(r)[0],r[1]):t(r)}catch(i){throw Ir(e),i}},Zc=x("iterator"),Ac=Array.prototype,zn=function(e){return e!==void 0&&(Jt.Array===e||Ac[Zc]===e)},Gc=x("iterator"),jn=function(e){if(e!=null)return e[Gc]||e["@@iterator"]||Jt[Ve(e)]},Mn=x("iterator"),qn=!1;try{var Rc=0,$n={next:function(){return{done:!!Rc++}},return:function(){qn=!0}};$n[Mn]=function(){return this},Array.from($n,function(){throw 2})}catch(e){}var ti=function(e,t){if(!t&&!qn)return!1;var r=!1;try{var n={};n[Mn]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(i){}return r},Xc=!ti(function(e){Array.from(e)});J({target:"Array",stat:!0,forced:Xc},{from:function(e){var t,r,n,i,o,c,u=te(e),a=typeof this=="function"?this:Array,s=arguments.length,l=s>1?arguments[1]:void 0,f=l!==void 0,d=jn(u),h=0;if(f&&(l=$t(l,s>2?arguments[2]:void 0,2)),d==null||a==Array&&zn(d))for(r=new a(t=Qt(u.length));t>h;h++)c=f?l(u[h],h):u[h],Se(r,h,c);else for(o=(i=d.call(u)).next,r=new a;!(n=o.call(i)).done;h++)c=f?Vc(i,l,[n.value,h],!0):n.value,Se(r,h,c);return r.length=h,r}}),ft.Array.from;var P,Ec=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined",Qc=Y.f,Xe=F.Int8Array,yr=Xe&&Xe.prototype,ei=F.Uint8ClampedArray,ri=ei&&ei.prototype,Tt=Xe&&Ut(Xe),et=yr&&Ut(yr),ni=Object.prototype,ii=ni.isPrototypeOf,oi=x("toStringTag"),ci=Rt("TYPED_ARRAY_TAG"),xt=Ec&&!!at&&Ve(F.opera)!=="Opera",pt={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Wc=function(e){return G(e)&&C(pt,Ve(e))};for(P in pt)F[P]||(xt=!1);if((!xt||typeof Tt!="function"||Tt===Function.prototype)&&(Tt=function(){throw TypeError("Incorrect invocation")},xt))for(P in pt)F[P]&&at(F[P],Tt);if((!xt||!et||et===ni)&&(et=Tt.prototype,xt))for(P in pt)F[P]&&at(F[P].prototype,et);if(xt&&Ut(ri)!==et&&at(ri,et),A&&!C(et,oi))for(P in Qc(et,oi,{get:function(){return G(this)?this[ci]:void 0}}),pt)F[P]&&O(F[P],ci,P);var kc=function(e){if(Wc(e))return e;throw TypeError("Target is not a typed array")},Jc=function(e){if(at){if(ii.call(Tt,e))return e}else for(var t in pt)if(C(pt,P)){var r=F[t];if(r&&(e===r||ii.call(r,e)))return e}throw TypeError("Target is not a typed array constructor")},Tc=function(e,t,r){if(A){if(r)for(var n in pt){var i=F[n];i&&C(i.prototype,e)&&delete i.prototype[e]}et[e]&&!r||it(et,e,r?t:xt&&yr[e]||t)}},Lc=x("species"),Hc=kc,Yc=Jc,Nc=[].slice;Tc("slice",function(e,t){for(var r=Nc.call(Hc(this),e,t),n=function(u,a){var s,l=H(u).constructor;return l===void 0||(s=H(l)[Lc])==null?a:bn(s)}(this,this.constructor),i=0,o=r.length,c=new(Yc(n))(o);o>i;)c[i]=r[i++];return c},k(function(){new Int8Array(1).slice()}));var mr=x("unscopables"),br=Array.prototype;br[mr]==null&&Y.f(br,mr,{configurable:!0,value:dt(null)});var Ee=function(e){br[mr][e]=!0},_c=Object.defineProperty,vr={},ui=function(e){throw e},Oc=fn.includes,Kc=function(e,t){if(C(vr,e))return vr[e];t||(t={});var r=[][e],n=!!C(t,"ACCESSORS")&&t.ACCESSORS,i=C(t,0)?t[0]:ui,o=C(t,1)?t[1]:void 0;return vr[e]=!!r&&!k(function(){if(n&&!A)return!0;var c={length:-1};n?_c(c,1,{enumerable:!0,get:ui}):c[1]=1,r.call(c,i,o)})}("indexOf",{ACCESSORS:!0,1:0});J({target:"Array",proto:!0,forced:!Kc},{includes:function(e){return Oc(this,e,arguments.length>1?arguments[1]:void 0)}}),Ee("includes"),Me("Array","includes"),J({target:"String",proto:!0,forced:!In("includes")},{includes:function(e){return!!~String(Kt(this)).indexOf(pn(e),arguments.length>1?arguments[1]:void 0)}}),Me("String","includes");var Pc=!k(function(){return Object.isExtensible(Object.preventExtensions({}))}),Lt=At(function(e){var t=Y.f,r=Rt("meta"),n=0,i=Object.isExtensible||function(){return!0},o=function(u){t(u,r,{value:{objectID:"O"+ ++n,weakData:{}}})},c=e.exports={REQUIRED:!1,fastKey:function(u,a){if(!G(u))return typeof u=="symbol"?u:(typeof u=="string"?"S":"P")+u;if(!C(u,r)){if(!i(u))return"F";if(!a)return"E";o(u)}return u[r].objectID},getWeakData:function(u,a){if(!C(u,r)){if(!i(u))return!0;if(!a)return!1;o(u)}return u[r].weakData},onFreeze:function(u){return Pc&&c.REQUIRED&&i(u)&&!C(u,r)&&o(u),u}};Xt[r]=!0}),oe=(Lt.REQUIRED,Lt.fastKey,Lt.getWeakData,Lt.onFreeze,function(e,t){this.stopped=e,this.result=t}),ai=function(e,t,r){var n,i,o,c,u,a,s,l=r&&r.that,f=!(!r||!r.AS_ENTRIES),d=!(!r||!r.IS_ITERATOR),h=!(!r||!r.INTERRUPTED),p=$t(t,l,1+f+h),b=function(g){return n&&Ir(n),new oe(!0,g)},I=function(g){return f?(H(g),h?p(g[0],g[1],b):p(g[0],g[1])):h?p(g,b):p(g)};if(d)n=e;else{if(typeof(i=jn(e))!="function")throw TypeError("Target is not iterable");if(zn(i)){for(o=0,c=Qt(e.length);c>o;o++)if((u=I(e[o]))&&u instanceof oe)return u;return new oe(!1)}n=i.call(e)}for(a=n.next;!(s=a.call(n)).done;){try{u=I(s.value)}catch(g){throw Ir(n),g}if(typeof u=="object"&&u&&u instanceof oe)return u}return new oe(!1)},si=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e},li=function(e,t,r){for(var n in t)it(e,n,t[n],r);return e},fi=x("species"),Dc=Y.f,di=Lt.fastKey,hi=tt.set,Br=tt.getterFor,gi=(function(e,t,r){var n=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,o=n?"set":"add",c=F[e],u=c&&c.prototype,a=c,s={},l=function(I){var g=u[I];it(u,I,I=="add"?function(m){return g.call(this,m===0?0:m),this}:I=="delete"?function(m){return!(i&&!G(m))&&g.call(this,m===0?0:m)}:I=="get"?function(m){return i&&!G(m)?void 0:g.call(this,m===0?0:m)}:I=="has"?function(m){return!(i&&!G(m))&&g.call(this,m===0?0:m)}:function(m,v){return g.call(this,m===0?0:m,v),this})};if(je(e,typeof c!="function"||!(i||u.forEach&&!k(function(){new c().entries().next()}))))a=r.getConstructor(t,e,n,o),Lt.REQUIRED=!0;else if(je(e,!0)){var f=new a,d=f[o](i?{}:-0,1)!=f,h=k(function(){f.has(1)}),p=ti(function(I){new c(I)}),b=!i&&k(function(){for(var I=new c,g=5;g--;)I[o](g,g);return!I.has(-0)});p||((a=t(function(I,g){si(I,a,e);var m=function(v,B,R){var X,U;return at&&typeof(X=B.constructor)=="function"&&X!==R&&G(U=X.prototype)&&U!==R.prototype&&at(v,U),v}(new c,I,a);return g!=null&&ai(g,m[o],{that:m,AS_ENTRIES:n}),m})).prototype=u,u.constructor=a),(h||b)&&(l("delete"),l("has"),n&&l("get")),(b||d)&&l(o),i&&u.clear&&delete u.clear}s[e]=a,J({global:!0,forced:a!=c},s),wt(a,e),i||r.setStrong(a,e,n)}("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},{getConstructor:function(e,t,r,n){var i=e(function(a,s){si(a,i,t),hi(a,{type:t,index:dt(null),first:void 0,last:void 0,size:0}),A||(a.size=0),s!=null&&ai(s,a[n],{that:a,AS_ENTRIES:r})}),o=Br(t),c=function(a,s,l){var f,d,h=o(a),p=u(a,s);return p?p.value=l:(h.last=p={index:d=di(s,!0),key:s,value:l,previous:f=h.last,next:void 0,removed:!1},h.first||(h.first=p),f&&(f.next=p),A?h.size++:a.size++,d!=="F"&&(h.index[d]=p)),a},u=function(a,s){var l,f=o(a),d=di(s);if(d!=="F")return f.index[d];for(l=f.first;l;l=l.next)if(l.key==s)return l};return li(i.prototype,{clear:function(){for(var a=o(this),s=a.index,l=a.first;l;)l.removed=!0,l.previous&&(l.previous=l.previous.next=void 0),delete s[l.index],l=l.next;a.first=a.last=void 0,A?a.size=0:this.size=0},delete:function(a){var s=this,l=o(s),f=u(s,a);if(f){var d=f.next,h=f.previous;delete l.index[f.index],f.removed=!0,h&&(h.next=d),d&&(d.previous=h),l.first==f&&(l.first=d),l.last==f&&(l.last=h),A?l.size--:s.size--}return!!f},forEach:function(a){for(var s,l=o(this),f=$t(a,arguments.length>1?arguments[1]:void 0,3);s=s?s.next:l.first;)for(f(s.value,s.key,this);s&&s.removed;)s=s.previous},has:function(a){return!!u(this,a)}}),li(i.prototype,r?{get:function(a){var s=u(this,a);return s&&s.value},set:function(a,s){return c(this,a===0?0:a,s)}}:{add:function(a){return c(this,a=a===0?0:a,a)}}),A&&Dc(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(e,t,r){var n=t+" Iterator",i=Br(t),o=Br(n);pr(e,t,function(c,u){hi(this,{type:n,target:c,state:i(c),kind:u,last:void 0})},function(){for(var c=o(this),u=c.kind,a=c.last;a&&a.removed;)a=a.previous;return c.target&&(c.last=a=a?a.next:c.state.first)?u=="keys"?{value:a.key,done:!1}:u=="values"?{value:a.value,done:!1}:{value:[a.key,a.value],done:!1}:(c.target=void 0,{value:void 0,done:!0})},r?"entries":"values",!r,!0),function(c){var u=jt(c),a=Y.f;A&&u&&!u[fi]&&a(u,fi,{configurable:!0,get:function(){return this}})}(t)}}),{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),zc=tt.set,jc=tt.getterFor("Array Iterator"),ce=pr(Array,"Array",function(e,t){zc(this,{type:"Array Iterator",target:nt(e),index:0,kind:t})},function(){var e=jc(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):r=="keys"?{value:n,done:!1}:r=="values"?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}},"values");Jt.Arguments=Jt.Array,Ee("keys"),Ee("values"),Ee("entries");var Cr=x("iterator"),pi=x("toStringTag"),Fr=ce.values;for(var wr in gi){var Ii=F[wr],st=Ii&&Ii.prototype;if(st){if(st[Cr]!==Fr)try{O(st,Cr,Fr)}catch(e){st[Cr]=Fr}if(st[pi]||O(st,pi,wr),gi[wr]){for(var Ht in ce)if(st[Ht]!==ce[Ht])try{O(st,Ht,ce[Ht])}catch(e){st[Ht]=ce[Ht]}}}}ft.Set;function yi(e){var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){return t.reject(r)})})}function mi(e){return new this(function(t,r){if(!e||e.length===void 0)return r(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n=Array.prototype.slice.call(e);if(n.length===0)return t([]);var i=n.length;function o(u,a){if(a&&(typeof a=="object"||typeof a=="function")){var s=a.then;if(typeof s=="function")return void s.call(a,function(l){o(u,l)},function(l){n[u]={status:"rejected",reason:l},--i==0&&t(n)})}n[u]={status:"fulfilled",value:a},--i==0&&t(n)}for(var c=0;c<n.length;c++)o(c,n[c])})}var Mc=setTimeout;function bi(e){return Boolean(e&&e.length!==void 0)}function qc(){}function S(e){if(!(this instanceof S))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Bi(e,this)}function vi(e,t){for(;e._state===3;)e=e._value;e._state!==0?(e._handled=!0,S._immediateFn(function(){var r=e._state===1?t.onFulfilled:t.onRejected;if(r!==null){var n;try{n=r(e._value)}catch(i){return void ue(t.promise,i)}Ur(t.promise,n)}else(e._state===1?Ur:ue)(t.promise,e._value)})):e._deferreds.push(t)}function Ur(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&(typeof t=="object"||typeof t=="function")){var r=t.then;if(t instanceof S)return e._state=3,e._value=t,void xr(e);if(typeof r=="function")return void Bi((n=r,i=t,function(){n.apply(i,arguments)}),e)}e._state=1,e._value=t,xr(e)}catch(o){ue(e,o)}var n,i}function ue(e,t){e._state=2,e._value=t,xr(e)}function xr(e){e._state===2&&e._deferreds.length===0&&S._immediateFn(function(){e._handled||S._unhandledRejectionFn(e._value)});for(var t=0,r=e._deferreds.length;t<r;t++)vi(e,e._deferreds[t]);e._deferreds=null}function $c(e,t,r){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.promise=r}function Bi(e,t){var r=!1;try{e(function(n){r||(r=!0,Ur(t,n))},function(n){r||(r=!0,ue(t,n))})}catch(n){if(r)return;r=!0,ue(t,n)}}S.prototype.catch=function(e){return this.then(null,e)},S.prototype.then=function(e,t){var r=new this.constructor(qc);return vi(this,new $c(e,t,r)),r},S.prototype.finally=yi,S.all=function(e){return new S(function(t,r){if(!bi(e))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(e);if(n.length===0)return t([]);var i=n.length;function o(u,a){try{if(a&&(typeof a=="object"||typeof a=="function")){var s=a.then;if(typeof s=="function")return void s.call(a,function(l){o(u,l)},r)}n[u]=a,--i==0&&t(n)}catch(l){r(l)}}for(var c=0;c<n.length;c++)o(c,n[c])})},S.allSettled=mi,S.resolve=function(e){return e&&typeof e=="object"&&e.constructor===S?e:new S(function(t){t(e)})},S.reject=function(e){return new S(function(t,r){r(e)})},S.race=function(e){return new S(function(t,r){if(!bi(e))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=e.length;n<i;n++)S.resolve(e[n]).then(t,r)})},S._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){Mc(e,0)},S._unhandledRejectionFn=function(e){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var Yt=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof Zt!="undefined")return Zt;throw new Error("unable to locate global object")}();typeof Yt.Promise!="function"?Yt.Promise=S:Yt.Promise.prototype.finally?Yt.Promise.allSettled||(Yt.Promise.allSettled=mi):Yt.Promise.prototype.finally=yi,function(e){function t(){}function r(c,u){if(c=c===void 0?"utf-8":c,u=u===void 0?{fatal:!1}:u,i.indexOf(c.toLowerCase())===-1)throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+c+"') is invalid.");if(u.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function n(c){for(var u=0,a=Math.min(65536,c.length+1),s=new Uint16Array(a),l=[],f=0;;){var d=u<c.length;if(!d||f>=a-1){if(l.push(String.fromCharCode.apply(null,s.subarray(0,f))),!d)return l.join("");c=c.subarray(u),f=u=0}if((128&(d=c[u++]))==0)s[f++]=d;else if((224&d)==192){var h=63&c[u++];s[f++]=(31&d)<<6|h}else if((240&d)==224){h=63&c[u++];var p=63&c[u++];s[f++]=(31&d)<<12|h<<6|p}else(248&d)==240&&(65535<(d=(7&d)<<18|(h=63&c[u++])<<12|(p=63&c[u++])<<6|63&c[u++])&&(d-=65536,s[f++]=d>>>10&1023|55296,d=56320|1023&d),s[f++]=d)}}if(e.TextEncoder&&e.TextDecoder)return!1;var i=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),t.prototype.encode=function(c,u){if((u=u===void 0?{stream:!1}:u).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");u=0;for(var a=c.length,s=0,l=Math.max(32,a+(a>>>1)+7),f=new Uint8Array(l>>>3<<3);u<a;){var d=c.charCodeAt(u++);if(55296<=d&&56319>=d){if(u<a){var h=c.charCodeAt(u);(64512&h)==56320&&(++u,d=((1023&d)<<10)+(1023&h)+65536)}if(55296<=d&&56319>=d)continue}if(s+4>f.length&&(l+=8,l=(l*=1+u/c.length*2)>>>3<<3,(h=new Uint8Array(l)).set(f),f=h),(4294967168&d)==0)f[s++]=d;else{if((4294965248&d)==0)f[s++]=d>>>6&31|192;else if((4294901760&d)==0)f[s++]=d>>>12&15|224,f[s++]=d>>>6&63|128;else{if((4292870144&d)!=0)continue;f[s++]=d>>>18&7|240,f[s++]=d>>>12&63|128,f[s++]=d>>>6&63|128}f[s++]=63&d|128}}return f.slice?f.slice(0,s):f.subarray(0,s)},Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1});var o=n;typeof y=="function"&&y.from?o=function(c){return y.from(c.buffer,c.byteOffset,c.byteLength).toString("utf-8")}:typeof Blob=="function"&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&(o=function(c){var u=URL.createObjectURL(new Blob([c],{type:"text/plain;charset=UTF-8"}));try{var a=new XMLHttpRequest;return a.open("GET",u,!1),a.send(),a.responseText}catch(s){return n(c)}finally{URL.revokeObjectURL(u)}}),r.prototype.decode=function(c,u){if((u=u===void 0?{stream:!1}:u).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return c=c instanceof Uint8Array?c:c.buffer instanceof ArrayBuffer?new Uint8Array(c.buffer):new Uint8Array(c),o(c)},e.TextEncoder=t,e.TextDecoder=r}(typeof window!="undefined"?window:$),function(){function e(I,g){if(!(I instanceof g))throw new TypeError("Cannot call a class as a function")}function t(I,g){for(var m=0;m<g.length;m++){var v=g[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(I,v.key,v)}}function r(I,g,m){return g&&t(I.prototype,g),m&&t(I,m),I}function n(I,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(g&&g.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),g&&o(I,g)}function i(I){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(I)}function o(I,g){return(o=Object.setPrototypeOf||function(m,v){return m.__proto__=v,m})(I,g)}function c(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(I){return!1}}function u(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function a(I,g){return!g||typeof g!="object"&&typeof g!="function"?u(I):g}function s(I){var g=c();return function(){var m,v=i(I);if(g){var B=i(this).constructor;m=Reflect.construct(v,arguments,B)}else m=v.apply(this,arguments);return a(this,m)}}function l(I,g){for(;!Object.prototype.hasOwnProperty.call(I,g)&&(I=i(I))!==null;);return I}function f(I,g,m){return(f=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(v,B,R){var X=l(v,B);if(X){var U=Object.getOwnPropertyDescriptor(X,B);return U.get?U.get.call(R):U.value}})(I,g,m||I)}var d=function(){function I(){e(this,I),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(I,[{key:"addEventListener",value:function(g,m){g in this.listeners||(this.listeners[g]=[]),this.listeners[g].push(m)}},{key:"removeEventListener",value:function(g,m){if(g in this.listeners){for(var v=this.listeners[g],B=0,R=v.length;B<R;B++)if(v[B]===m)return void v.splice(B,1)}}},{key:"dispatchEvent",value:function(g){var m=this;if(g.type in this.listeners){for(var v=function(U){setTimeout(function(){return U.call(m,g)})},B=this.listeners[g.type],R=0,X=B.length;R<X;R++)v(B[R]);return!g.defaultPrevented}}}]),I}(),h=function(I){n(m,I);var g=s(m);function m(){var v;return e(this,m),(v=g.call(this)).listeners||d.call(u(v)),Object.defineProperty(u(v),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(u(v),"onabort",{value:null,writable:!0,configurable:!0}),v}return r(m,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(v){v.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,v)),f(i(m.prototype),"dispatchEvent",this).call(this,v)}}]),m}(d),p=function(){function I(){e(this,I),Object.defineProperty(this,"signal",{value:new h,writable:!0,configurable:!0})}return r(I,[{key:"abort",value:function(){var g;try{g=new Event("abort")}catch(m){typeof document!="undefined"?document.createEvent?(g=document.createEvent("Event")).initEvent("abort",!1,!1):(g=document.createEventObject()).type="abort":g={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(g)}},{key:"toString",value:function(){return"[object AbortController]"}}]),I}();function b(I){return I.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof I.Request=="function"&&!I.Request.prototype.hasOwnProperty("signal")||!I.AbortController}typeof Symbol!="undefined"&&Symbol.toStringTag&&(p.prototype[Symbol.toStringTag]="AbortController",h.prototype[Symbol.toStringTag]="AbortSignal"),function(I){b(I)&&(I.AbortController=p,I.AbortSignal=h)}(typeof self!="undefined"?self:$)}();var St=At(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(){var i=this;this.locked=new Map,this.addToLocked=function(o,c){var u=i.locked.get(o);u===void 0?c===void 0?i.locked.set(o,[]):i.locked.set(o,[c]):c!==void 0&&(u.unshift(c),i.locked.set(o,u))},this.isLocked=function(o){return i.locked.has(o)},this.lock=function(o){return new Promise(function(c,u){i.isLocked(o)?i.addToLocked(o,c):(i.addToLocked(o),c())})},this.unlock=function(o){var c=i.locked.get(o);if(c!==void 0&&c.length!==0){var u=c.pop();i.locked.set(o,c),u!==void 0&&setTimeout(u,0)}else i.locked.delete(o)}}return n.getInstance=function(){return n.instance===void 0&&(n.instance=new n),n.instance},n}();t.default=function(){return r.getInstance()}});Ne(St);var tu=Ne(At(function(e,t){var r=$&&$.__awaiter||function(a,s,l,f){return new(l||(l=Promise))(function(d,h){function p(g){try{I(f.next(g))}catch(m){h(m)}}function b(g){try{I(f.throw(g))}catch(m){h(m)}}function I(g){g.done?d(g.value):new l(function(m){m(g.value)}).then(p,b)}I((f=f.apply(a,s||[])).next())})},n=$&&$.__generator||function(a,s){var l,f,d,h,p={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return h={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function b(I){return function(g){return function(m){if(l)throw new TypeError("Generator is already executing.");for(;p;)try{if(l=1,f&&(d=2&m[0]?f.return:m[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,m[1])).done)return d;switch(f=0,d&&(m=[2&m[0],d.value]),m[0]){case 0:case 1:d=m;break;case 4:return p.label++,{value:m[1],done:!1};case 5:p.label++,f=m[1],m=[0];continue;case 7:m=p.ops.pop(),p.trys.pop();continue;default:if(d=p.trys,!((d=d.length>0&&d[d.length-1])||m[0]!==6&&m[0]!==2)){p=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){p.label=m[1];break}if(m[0]===6&&p.label<d[1]){p.label=d[1],d=m;break}if(d&&p.label<d[2]){p.label=d[2],p.ops.push(m);break}d[2]&&p.ops.pop(),p.trys.pop();continue}m=s.call(a,p)}catch(v){m=[6,v],f=0}finally{l=d=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([I,g])}}};Object.defineProperty(t,"__esModule",{value:!0});var i="browser-tabs-lock-key";function o(a){return new Promise(function(s){return setTimeout(s,a)})}function c(a){for(var s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",l="",f=0;f<a;f++)l+=s[Math.floor(Math.random()*s.length)];return l}var u=function(){function a(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+c(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),a.waiters===void 0&&(a.waiters=[])}return a.prototype.acquireLock=function(s,l){return l===void 0&&(l=5e3),r(this,void 0,void 0,function(){var f,d,h,p,b,I;return n(this,function(g){switch(g.label){case 0:f=Date.now()+c(4),d=Date.now()+l,h=i+"-"+s,p=window.localStorage,g.label=1;case 1:return Date.now()<d?[4,o(30)]:[3,8];case 2:return g.sent(),p.getItem(h)!==null?[3,5]:(b=this.id+"-"+s+"-"+f,[4,o(Math.floor(25*Math.random()))]);case 3:return g.sent(),p.setItem(h,JSON.stringify({id:this.id,iat:f,timeoutKey:b,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,o(30)];case 4:return g.sent(),(I=p.getItem(h))!==null&&(I=JSON.parse(I)).id===this.id&&I.iat===f?(this.acquiredIatSet.add(f),this.refreshLockWhileAcquired(h,f),[2,!0]):[3,7];case 5:return a.lockCorrector(),[4,this.waitForSomethingToChange(d)];case 6:g.sent(),g.label=7;case 7:return f=Date.now()+c(4),[3,1];case 8:return[2,!1]}})})},a.prototype.refreshLockWhileAcquired=function(s,l){return r(this,void 0,void 0,function(){var f=this;return n(this,function(d){return setTimeout(function(){return r(f,void 0,void 0,function(){var h,p;return n(this,function(b){switch(b.label){case 0:return[4,St.default().lock(l)];case 1:return b.sent(),this.acquiredIatSet.has(l)?(h=window.localStorage,(p=h.getItem(s))===null?(St.default().unlock(l),[2]):((p=JSON.parse(p)).timeRefreshed=Date.now(),h.setItem(s,JSON.stringify(p)),St.default().unlock(l),this.refreshLockWhileAcquired(s,l),[2])):(St.default().unlock(l),[2])}})})},1e3),[2]})})},a.prototype.waitForSomethingToChange=function(s){return r(this,void 0,void 0,function(){return n(this,function(l){switch(l.label){case 0:return[4,new Promise(function(f){var d=!1,h=Date.now(),p=!1;function b(){if(p||(window.removeEventListener("storage",b),a.removeFromWaiting(b),clearTimeout(I),p=!0),!d){d=!0;var g=50-(Date.now()-h);g>0?setTimeout(f,g):f()}}window.addEventListener("storage",b),a.addToWaiting(b);var I=setTimeout(b,Math.max(0,s-Date.now()))})];case 1:return l.sent(),[2]}})})},a.addToWaiting=function(s){this.removeFromWaiting(s),a.waiters!==void 0&&a.waiters.push(s)},a.removeFromWaiting=function(s){a.waiters!==void 0&&(a.waiters=a.waiters.filter(function(l){return l!==s}))},a.notifyWaiters=function(){a.waiters!==void 0&&a.waiters.slice().forEach(function(s){return s()})},a.prototype.releaseLock=function(s){return r(this,void 0,void 0,function(){return n(this,function(l){switch(l.label){case 0:return[4,this.releaseLock__private__(s)];case 1:return[2,l.sent()]}})})},a.prototype.releaseLock__private__=function(s){return r(this,void 0,void 0,function(){var l,f,d;return n(this,function(h){switch(h.label){case 0:return l=window.localStorage,f=i+"-"+s,(d=l.getItem(f))===null?[2]:(d=JSON.parse(d)).id!==this.id?[3,2]:[4,St.default().lock(d.iat)];case 1:h.sent(),this.acquiredIatSet.delete(d.iat),l.removeItem(f),St.default().unlock(d.iat),a.notifyWaiters(),h.label=2;case 2:return[2]}})})},a.lockCorrector=function(){for(var s=Date.now()-5e3,l=window.localStorage,f=Object.keys(l),d=!1,h=0;h<f.length;h++){var p=f[h];if(p.includes(i)){var b=l.getItem(p);b!==null&&((b=JSON.parse(b)).timeRefreshed===void 0&&b.timeAcquired<s||b.timeRefreshed!==void 0&&b.timeRefreshed<s)&&(l.removeItem(p),d=!0)}}d&&a.notifyWaiters()},a.waiters=void 0,a}();t.default=u})),eu={timeoutInSeconds:60},ru=["login_required","consent_required","interaction_required","account_selection_required","access_denied"],Ci={name:"auth0-spa-js",version:"1.13.6"},ae=function(e){function t(r,n){var i=e.call(this,n)||this;return i.error=r,i.error_description=n,Object.setPrototypeOf(i,t.prototype),i}return ye(t,e),t.fromPayload=function(r){return new t(r.error,r.error_description)},t}(Error),nu=function(e){function t(r,n,i,o){o===void 0&&(o=null);var c=e.call(this,r,n)||this;return c.state=i,c.appState=o,Object.setPrototypeOf(c,t.prototype),c}return ye(t,e),t}(ae),Sr=function(e){function t(){var r=e.call(this,"timeout","Timeout")||this;return Object.setPrototypeOf(r,t.prototype),r}return ye(t,e),t}(ae),iu=function(e){function t(r){var n=e.call(this)||this;return n.popup=r,Object.setPrototypeOf(n,t.prototype),n}return ye(t,e),t}(Sr),ou=function(e,t,r){return r===void 0&&(r=60),new Promise(function(n,i){var o=window.document.createElement("iframe");o.setAttribute("width","0"),o.setAttribute("height","0"),o.style.display="none";var c,u=function(){window.document.body.contains(o)&&(window.document.body.removeChild(o),window.removeEventListener("message",c,!1))},a=setTimeout(function(){i(new Sr),u()},1e3*r);c=function(s){if(s.origin==t&&s.data&&s.data.type==="authorization_response"){var l=s.source;l&&l.close(),s.data.response.error?i(ae.fromPayload(s.data.response)):n(s.data.response),clearTimeout(a),window.removeEventListener("message",c,!1),setTimeout(u,2e3)}},window.addEventListener("message",c,!1),window.document.body.appendChild(o),o.setAttribute("src",e)})},cu=function(e,t){var r,n,i,o=t.popup;if(o?o.location.href=e:(r=e,n=window.screenX+(window.innerWidth-400)/2,i=window.screenY+(window.innerHeight-600)/2,o=window.open(r,"auth0:authorize:popup","left="+n+",top="+i+",width=400,height=600,resizable,scrollbars=yes,status=1")),!o)throw new Error("Could not open popup");return new Promise(function(c,u){var a,s=setTimeout(function(){u(new iu(o)),window.removeEventListener("message",a,!1)},1e3*(t.timeoutInSeconds||60));a=function(l){if(l.data&&l.data.type==="authorization_response"){if(clearTimeout(s),window.removeEventListener("message",a,!1),o.close(),l.data.response.error)return u(ae.fromPayload(l.data.response));c(l.data.response)}},window.addEventListener("message",a)})},Vr=function(){return window.crypto||window.msCrypto},Fi=function(){var e=Vr();return e.subtle||e.webkitSubtle},lt=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",t="";return Array.from(Vr().getRandomValues(new Uint8Array(43))).forEach(function(r){return t+=e[r%e.length]}),t},Nt=function(e){return btoa(e)},wi=function(e){return Object.keys(e).filter(function(t){return e[t]!==void 0}).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")},Zr=function(e){return V(void 0,void 0,void 0,function(){var t;return Z(this,function(r){switch(r.label){case 0:return t=Fi().digest({name:"SHA-256"},new TextEncoder().encode(e)),window.msCrypto?[2,new Promise(function(n,i){t.oncomplete=function(o){n(o.target.result)},t.onerror=function(o){i(o.error)},t.onabort=function(){i("The digest operation was aborted")}})]:[4,t];case 1:return[2,r.sent()]}})})},Ui=function(e){return function(t){return decodeURIComponent(atob(t).split("").map(function(r){return"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)}).join(""))}(e.replace(/_/g,"/").replace(/-/g,"+"))},Ar=function(e){var t=new Uint8Array(e);return function(r){var n={"+":"-","/":"_","=":""};return r.replace(/[+/=]/g,function(i){return n[i]})}(window.btoa(String.fromCharCode.apply(String,Array.from(t))))},uu=function(e,t){return V(void 0,void 0,void 0,function(){var r,n;return Z(this,function(i){switch(i.label){case 0:return[4,(o=e,c=t,c=c||{},new Promise(function(u,a){var s=new XMLHttpRequest,l=[],f=[],d={},h=function(){return{ok:(s.status/100|0)==2,statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:h,headers:{keys:function(){return l},entries:function(){return f},get:function(b){return d[b.toLowerCase()]},has:function(b){return b.toLowerCase()in d}}}};for(var p in s.open(c.method||"get",o,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(b,I,g){l.push(I=I.toLowerCase()),f.push([I,g]),d[I]=d[I]?d[I]+","+g:g}),u(h())},s.onerror=a,s.withCredentials=c.credentials=="include",c.headers)s.setRequestHeader(p,c.headers[p]);s.send(c.body||null)}))];case 1:return r=i.sent(),n={ok:r.ok},[4,r.json()];case 2:return[2,(n.json=i.sent(),n)]}var o,c})})},au=function(e,t,r){return V(void 0,void 0,void 0,function(){var n,i;return Z(this,function(o){return n=new AbortController,t.signal=n.signal,[2,Promise.race([uu(e,t),new Promise(function(c,u){i=setTimeout(function(){n.abort(),u(new Error("Timeout when executing 'fetch'"))},r)})]).finally(function(){clearTimeout(i)})]})})},su=function(e,t,r,n,i,o){return V(void 0,void 0,void 0,function(){return Z(this,function(c){return[2,(u={auth:{audience:t,scope:r},timeout:i,fetchUrl:e,fetchOptions:n},a=o,new Promise(function(s,l){var f=new MessageChannel;f.port1.onmessage=function(d){d.data.error?l(new Error(d.data.error)):s(d.data)},a.postMessage(u,[f.port2])}))];var u,a})})},lu=function(e,t,r,n,i,o){return o===void 0&&(o=1e4),V(void 0,void 0,void 0,function(){return Z(this,function(c){return i?[2,su(e,t,r,n,o,i)]:[2,au(e,n,o)]})})};function fu(e,t,r,n,i,o){return V(this,void 0,void 0,function(){var c,u,a,s,l,f,d,h;return Z(this,function(p){switch(p.label){case 0:c=null,a=0,p.label=1;case 1:if(!(a<3))return[3,6];p.label=2;case 2:return p.trys.push([2,4,,5]),[4,lu(e,r,n,i,o,t)];case 3:return u=p.sent(),c=null,[3,6];case 4:return s=p.sent(),c=s,[3,5];case 5:return a++,[3,1];case 6:if(c)throw c.message=c.message||"Failed to fetch",c;if(l=u.json,f=l.error,d=l.error_description,h=z(l,["error","error_description"]),!u.ok)throw new ae(f||"request_error",d||"HTTP error. Unable to fetch "+e);return[2,h]}})})}var du=function(e){return Array.from(new Set(e))},It=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return du(e.join(" ").trim().split(/\s+/)).join(" ")};function Qe(e,t){var r=e.baseUrl,n=e.timeout,i=e.audience,o=e.scope,c=e.auth0Client,u=z(e,["baseUrl","timeout","audience","scope","auth0Client"]);return V(this,void 0,void 0,function(){var a,s;return Z(this,function(l){switch(l.label){case 0:return[4,fu(r+"/oauth/token",n,i||"default",o,{method:"POST",body:JSON.stringify(u),headers:{"Content-type":"application/json","Auth0-Client":btoa(JSON.stringify(c||Ci))}},t)];case 1:return a=l.sent(),(s=function(f,d){f===void 0&&(f=""),d===void 0&&(d="");var h=f.split(/\s+/),p=d.split(/\s+/);return h.filter(function(b){return!p.includes(b)}).join(" ")}(o,a.scope)).length&&console.warn("The requested scopes ("+o+") are different from the scopes of the retrieved token ("+a.scope+`). This could mean that your access token may not include all the scopes that you expect. It is advised to resolve this by either:
  
  - Removing \``+s+"` from the scope when requesting a new token.\n  - Ensuring `"+s+"` is returned as part of the requested token's scopes."),[2,a]}})})}var yt=function(){function e(t,r){r===void 0&&(r=Gr),this.prefix=r,this.client_id=t.client_id,this.scope=t.scope,this.audience=t.audience}return e.prototype.toKey=function(){return this.prefix+"::"+this.client_id+"::"+this.audience+"::"+this.scope},e.fromKey=function(t){var r=t.split("::"),n=r[0],i=r[1],o=r[2];return new e({client_id:i,scope:r[3],audience:o},n)},e}(),Gr="@@auth0spajs@@",xi=function(e){var t=Math.floor(Date.now()/1e3)+e.expires_in;return{body:e,expiresAt:Math.min(t,e.decodedToken.claims.exp)}},Si=function(e,t){var r=e.client_id,n=e.audience,i=e.scope;return t.filter(function(o){var c=yt.fromKey(o),u=c.prefix,a=c.client_id,s=c.audience,l=c.scope,f=l&&l.split(" "),d=l&&i.split(" ").reduce(function(h,p){return h&&f.includes(p)},!0);return u===Gr&&a===r&&s===n&&d})[0]},hu=function(){function e(){}return e.prototype.save=function(t){var r=new yt({client_id:t.client_id,scope:t.scope,audience:t.audience}),n=xi(t);window.localStorage.setItem(r.toKey(),JSON.stringify(n))},e.prototype.get=function(t,r){r===void 0&&(r=0);var n=this.readJson(t),i=Math.floor(Date.now()/1e3);if(n){if(!(n.expiresAt-r<i))return n.body;if(n.body.refresh_token){var o=this.stripData(n);return this.writeJson(t.toKey(),o),o.body}localStorage.removeItem(t.toKey())}},e.prototype.clear=function(){for(var t=localStorage.length-1;t>=0;t--)localStorage.key(t).startsWith(Gr)&&localStorage.removeItem(localStorage.key(t))},e.prototype.readJson=function(t){var r,n=Si(t,Object.keys(window.localStorage)),i=n&&window.localStorage.getItem(n);if(i&&(r=JSON.parse(i)))return r},e.prototype.writeJson=function(t,r){localStorage.setItem(t,JSON.stringify(r))},e.prototype.stripData=function(t){return{body:{refresh_token:t.body.refresh_token},expiresAt:t.expiresAt}},e}(),gu=function(){this.enclosedCache=function(){var e={};return{save:function(t){var r=new yt({client_id:t.client_id,scope:t.scope,audience:t.audience}),n=xi(t);e[r.toKey()]=n},get:function(t,r){r===void 0&&(r=0);var n=Si(t,Object.keys(e)),i=e[n],o=Math.floor(Date.now()/1e3);if(i)return i.expiresAt-r<o?i.body.refresh_token?(i.body={refresh_token:i.body.refresh_token},i.body):void delete e[t.toKey()]:i.body},clear:function(){e={}}}}()},pu=function(){function e(t){this.storage=t,this.transaction=this.storage.get("a0.spajs.txs")}return e.prototype.create=function(t){this.transaction=t,this.storage.save("a0.spajs.txs",t,{daysUntilExpire:1})},e.prototype.get=function(){return this.transaction},e.prototype.remove=function(){delete this.transaction,this.storage.remove("a0.spajs.txs")},e}(),se=function(e){return typeof e=="number"},Iu=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],yu=function(e){if(!e.id_token)throw new Error("ID token is required but missing");var t=function(u){var a=u.split("."),s=a[0],l=a[1],f=a[2];if(a.length!==3||!s||!l||!f)throw new Error("ID token could not be decoded");var d=JSON.parse(Ui(l)),h={__raw:u},p={};return Object.keys(d).forEach(function(b){h[b]=d[b],Iu.includes(b)||(p[b]=d[b])}),{encoded:{header:s,payload:l,signature:f},header:JSON.parse(Ui(s)),claims:h,user:p}}(e.id_token);if(!t.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(t.claims.iss!==e.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'+e.iss+'", found "'+t.claims.iss+'"');if(!t.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(t.header.alg!=="RS256")throw new Error('Signature algorithm of "'+t.header.alg+'" is not supported. Expected the ID token to be signed with "RS256".');if(!t.claims.aud||typeof t.claims.aud!="string"&&!Array.isArray(t.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+e.aud+'" but was not one of "'+t.claims.aud.join(", ")+'"');if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(t.claims.azp!==e.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'+e.aud+'", found "'+t.claims.azp+'"')}}else if(t.claims.aud!==e.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+e.aud+'" but found "'+t.claims.aud+'"');if(e.nonce){if(!t.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(t.claims.nonce!==e.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'+e.nonce+'", found "'+t.claims.nonce+'"')}if(e.max_age&&!se(t.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!se(t.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!se(t.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var r=e.leeway||60,n=new Date(Date.now()),i=new Date(0),o=new Date(0),c=new Date(0);if(c.setUTCSeconds(parseInt(t.claims.auth_time)+e.max_age+r),i.setUTCSeconds(t.claims.exp+r),o.setUTCSeconds(t.claims.nbf-r),n>i)throw new Error("Expiration Time (exp) claim error in the ID token; current time ("+n+") is after expiration time ("+i+")");if(se(t.claims.nbf)&&n<o)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time ("+n+") is before "+o);if(se(t.claims.auth_time)&&n>c)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time ("+n+") is after last auth at "+c);if(e.organizationId){if(!t.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(e.organizationId!==t.claims.org_id)throw new Error('Organization ID (org_id) claim mismatch in the ID token; expected "'+e.organizationId+'", found "'+t.claims.org_id+'"')}return t},Vt=At(function(e,t){var r=$&&$.__assign||function(){return(r=Object.assign||function(a){for(var s,l=1,f=arguments.length;l<f;l++)for(var d in s=arguments[l])Object.prototype.hasOwnProperty.call(s,d)&&(a[d]=s[d]);return a}).apply(this,arguments)};function n(a,s){if(!s)return"";var l="; "+a;return s===!0?l:l+"="+s}function i(a,s,l){return encodeURIComponent(a).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(s).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(f){if(typeof f.expires=="number"){var d=new Date;d.setMilliseconds(d.getMilliseconds()+864e5*f.expires),f.expires=d}return n("Expires",f.expires?f.expires.toUTCString():"")+n("Domain",f.domain)+n("Path",f.path)+n("Secure",f.secure)+n("SameSite",f.sameSite)}(l)}function o(a){for(var s={},l=a?a.split("; "):[],f=/(%[\dA-F]{2})+/gi,d=0;d<l.length;d++){var h=l[d].split("="),p=h.slice(1).join("=");p.charAt(0)==='"'&&(p=p.slice(1,-1));try{s[h[0].replace(f,decodeURIComponent)]=p.replace(f,decodeURIComponent)}catch(b){}}return s}function c(){return o(document.cookie)}function u(a,s,l){document.cookie=i(a,s,r({path:"/"},l))}t.__esModule=!0,t.encode=i,t.parse=o,t.getAll=c,t.get=function(a){return c()[a]},t.set=u,t.remove=function(a,s){u(a,"",r(r({},s),{expires:-1}))}});Ne(Vt),Vt.encode,Vt.parse,Vt.getAll;var mu=Vt.get,Vi=Vt.set,bu=Vt.remove,_t={get:function(e){var t=mu(e);if(t!==void 0)return JSON.parse(t)},save:function(e,t,r){var n={};window.location.protocol==="https:"&&(n={secure:!0,sameSite:"none"}),n.expires=r.daysUntilExpire,Vi(e,JSON.stringify(t),n)},remove:function(e){bu(e)}},vu={get:function(e){var t=_t.get(e);return t||_t.get("_legacy_"+e)},save:function(e,t,r){var n={};window.location.protocol==="https:"&&(n={secure:!0}),n.expires=r.daysUntilExpire,Vi("_legacy_"+e,JSON.stringify(t),n),_t.save(e,t,r)},remove:function(e){_t.remove(e),_t.remove("_legacy_"+e)}},Bu={get:function(e){if(typeof sessionStorage!="undefined"){var t=sessionStorage.getItem(e);if(t!==void 0)return JSON.parse(t)}},save:function(e,t){sessionStorage.setItem(e,JSON.stringify(t))},remove:function(e){sessionStorage.removeItem(e)}};function Cu(e,t,r){var n=t===void 0?null:t,i=function(a,s){var l=atob(a);if(s){for(var f=new Uint8Array(l.length),d=0,h=l.length;d<h;++d)f[d]=l.charCodeAt(d);return String.fromCharCode.apply(null,new Uint16Array(f.buffer))}return l}(e,r!==void 0&&r),o=i.indexOf(`
`,10)+1,c=i.substring(o)+(n?"//# sourceMappingURL="+n:""),u=new Blob([c],{type:"application/javascript"});return URL.createObjectURL(u)}var Zi,Ai,Gi,Rr,Fu=(Zi="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Ci8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAgICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlCiAgICB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZQogICAgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCiAgICBUSElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAgICBLSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVECiAgICBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLAogICAgTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC4KCiAgICBTZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMKICAgIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQscj0xLG49YXJndW1lbnRzLmxlbmd0aDtyPG47cisrKWZvcih2YXIgbyBpbiB0PWFyZ3VtZW50c1tyXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKSYmKGVbb109dFtvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHQoZSx0KXt2YXIgcixuLG8scyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBzPXtuZXh0OmkoMCksdGhyb3c6aSgxKSxyZXR1cm46aSgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKHNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscztmdW5jdGlvbiBpKHMpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYocj0xLG4mJihvPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgobz1uLnJldHVybikmJm8uY2FsbChuKSwwKTpuLm5leHQpJiYhKG89by5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKG49MCxvJiYocz1bMiZzWzBdLG8udmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOm89czticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXthPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighb3x8c1sxXT5vWzBdJiZzWzFdPG9bM10pKXthLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89czticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKHMpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1zPXQuY2FsbChlLGEpfWNhdGNoKGUpe3M9WzYsZV0sbj0wfWZpbmFsbHl7cj1vPTB9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJue3ZhbHVlOnNbMF0/c1sxXTp2b2lkIDAsZG9uZTohMH19KFtzLGldKX19fXZhciByPXt9LG49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSsifCIrdH07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKG8pe3ZhciBzLGEsaSx1LGM9by5kYXRhLGw9Yy50aW1lb3V0LGY9Yy5hdXRoLGg9Yy5mZXRjaFVybCxwPWMuZmV0Y2hPcHRpb25zLGI9by5wb3J0c1swXTtyZXR1cm4gcz12b2lkIDAsYT12b2lkIDAsdT1mdW5jdGlvbigpe3ZhciBvLHMsYSxpLHUsYyx5LGQsdix3O3JldHVybiB0KHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6YT0ocz1mfHx7fSkuYXVkaWVuY2UsaT1zLnNjb3BlLHQubGFiZWw9MTtjYXNlIDE6aWYodC50cnlzLnB1c2goWzEsNywsOF0pLCEodT1KU09OLnBhcnNlKHAuYm9keSkpLnJlZnJlc2hfdG9rZW4mJiJyZWZyZXNoX3Rva2VuIj09PXUuZ3JhbnRfdHlwZSl7aWYoIShjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHJbbihlLHQpXX0oYSxpKSkpdGhyb3cgbmV3IEVycm9yKCJUaGUgd2ViIHdvcmtlciBpcyBtaXNzaW5nIHRoZSByZWZyZXNoIHRva2VuIik7cC5ib2R5PUpTT04uc3RyaW5naWZ5KGUoZSh7fSx1KSx7cmVmcmVzaF90b2tlbjpjfSkpfXk9dm9pZCAwLCJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJih5PW5ldyBBYm9ydENvbnRyb2xsZXIscC5zaWduYWw9eS5zaWduYWwpLGQ9dm9pZCAwLHQubGFiZWw9MjtjYXNlIDI6cmV0dXJuIHQudHJ5cy5wdXNoKFsyLDQsLDVdKSxbNCxQcm9taXNlLnJhY2UoWyhnPWwsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3JldHVybiBzZXRUaW1lb3V0KGUsZyl9KSkpLGZldGNoKGgsZSh7fSxwKSldKV07Y2FzZSAzOnJldHVybiBkPXQuc2VudCgpLFszLDVdO2Nhc2UgNDpyZXR1cm4gdj10LnNlbnQoKSxiLnBvc3RNZXNzYWdlKHtlcnJvcjp2Lm1lc3NhZ2V9KSxbMl07Y2FzZSA1OnJldHVybiBkP1s0LGQuanNvbigpXTooeSYmeS5hYm9ydCgpLGIucG9zdE1lc3NhZ2Uoe2Vycm9yOiJUaW1lb3V0IHdoZW4gZXhlY3V0aW5nICdmZXRjaCcifSksWzJdKTtjYXNlIDY6cmV0dXJuKG89dC5zZW50KCkpLnJlZnJlc2hfdG9rZW4/KGZ1bmN0aW9uKGUsdCxvKXtyW24odCxvKV09ZX0oby5yZWZyZXNoX3Rva2VuLGEsaSksZGVsZXRlIG8ucmVmcmVzaF90b2tlbik6ZnVuY3Rpb24oZSx0KXtkZWxldGUgcltuKGUsdCldfShhLGkpLGIucG9zdE1lc3NhZ2Uoe29rOmQub2ssanNvbjpvfSksWzMsOF07Y2FzZSA3OnJldHVybiB3PXQuc2VudCgpLGIucG9zdE1lc3NhZ2Uoe29rOiExLGpzb246e2Vycm9yX2Rlc2NyaXB0aW9uOncubWVzc2FnZX19KSxbMyw4XTtjYXNlIDg6cmV0dXJuWzJdfXZhciBnfSkpfSxuZXcoKGk9dm9pZCAwKXx8KGk9UHJvbWlzZSkpKChmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoZSl7dHJ5e28odS5uZXh0KGUpKX1jYXRjaChlKXt0KGUpfX1mdW5jdGlvbiBuKGUpe3RyeXtvKHUudGhyb3coZSkpfWNhdGNoKGUpe3QoZSl9fWZ1bmN0aW9uIG8odCl7dC5kb25lP2UodC52YWx1ZSk6bmV3IGkoKGZ1bmN0aW9uKGUpe2UodC52YWx1ZSl9KSkudGhlbihyLG4pfW8oKHU9dS5hcHBseShzLGF8fFtdKSkubmV4dCgpKX0pKX0pKX0oKTsKCg==",Ai="data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW4ud29ya2VyLmpzIiwic291cmNlcyI6WyJ3b3JrZXI6Ly93ZWItd29ya2VyL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy9jb25zdGFudHMudHMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy93b3JrZXIvdG9rZW4ud29ya2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwQ29uZmlnT3B0aW9ucyB9IGZyb20gJy4vZ2xvYmFsJztcbmltcG9ydCB2ZXJzaW9uIGZyb20gJy4vdmVyc2lvbic7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9BVVRIT1JJWkVfVElNRU9VVF9JTl9TRUNPTkRTID0gNjA7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9QT1BVUF9DT05GSUdfT1BUSU9OUzogUG9wdXBDb25maWdPcHRpb25zID0ge1xuICB0aW1lb3V0SW5TZWNvbmRzOiBERUZBVUxUX0FVVEhPUklaRV9USU1FT1VUX0lOX1NFQ09ORFNcbn07XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9TSUxFTlRfVE9LRU5fUkVUUllfQ09VTlQgPSAzO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IENMRUFOVVBfSUZSQU1FX1RJTUVPVVRfSU5fU0VDT05EUyA9IDI7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9GRVRDSF9USU1FT1VUX01TID0gMTAwMDA7XG5cbmV4cG9ydCBjb25zdCBDQUNIRV9MT0NBVElPTl9NRU1PUlkgPSAnbWVtb3J5JztcbmV4cG9ydCBjb25zdCBDQUNIRV9MT0NBVElPTl9MT0NBTF9TVE9SQUdFID0gJ2xvY2Fsc3RvcmFnZSc7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UgPVxuICAnVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbic7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgSU5WQUxJRF9SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UgPSAnaW52YWxpZCByZWZyZXNoIHRva2VuJztcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NDT1BFID0gJ29wZW5pZCBwcm9maWxlIGVtYWlsJztcblxuLyoqXG4gKiBBIGxpc3Qgb2YgZXJyb3JzIHRoYXQgY2FuIGJlIGlzc3VlZCBieSB0aGUgYXV0aG9yaXphdGlvbiBzZXJ2ZXIgd2hpY2ggdGhlXG4gKiB1c2VyIGNhbiByZWNvdmVyIGZyb20gYnkgc2lnbmluZyBpbiBpbnRlcmFjdGl2ZWx5LlxuICogaHR0cHM6Ly9vcGVuaWQubmV0L3NwZWNzL29wZW5pZC1jb25uZWN0LWNvcmUtMV8wLmh0bWwjQXV0aEVycm9yXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBSRUNPVkVSQUJMRV9FUlJPUlMgPSBbXG4gICdsb2dpbl9yZXF1aXJlZCcsXG4gICdjb25zZW50X3JlcXVpcmVkJyxcbiAgJ2ludGVyYWN0aW9uX3JlcXVpcmVkJyxcbiAgJ2FjY291bnRfc2VsZWN0aW9uX3JlcXVpcmVkJyxcbiAgLy8gU3RyaWN0bHkgc3BlYWtpbmcgdGhlIHVzZXIgY2FuJ3QgcmVjb3ZlciBmcm9tIGBhY2Nlc3NfZGVuaWVkYCAtIGJ1dCB0aGV5XG4gIC8vIGNhbiBnZXQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGVpciBhY2Nlc3MgYmVpbmcgZGVuaWVkIGJ5IGxvZ2dpbmcgaW5cbiAgLy8gaW50ZXJhY3RpdmVseS5cbiAgJ2FjY2Vzc19kZW5pZWQnXG5dO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VTU0lPTl9DSEVDS19FWFBJUllfREFZUyA9IDE7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9BVVRIMF9DTElFTlQgPSB7XG4gIG5hbWU6ICdhdXRoMC1zcGEtanMnLFxuICB2ZXJzaW9uOiB2ZXJzaW9uXG59O1xuIiwiaW1wb3J0IHsgTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgV29ya2VyUmVmcmVzaFRva2VuTWVzc2FnZSB9IGZyb20gJy4vd29ya2VyLnR5cGVzJztcblxubGV0IHJlZnJlc2hUb2tlbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuY29uc3QgY2FjaGVLZXkgPSAoYXVkaWVuY2U6IHN0cmluZywgc2NvcGU6IHN0cmluZykgPT4gYCR7YXVkaWVuY2V9fCR7c2NvcGV9YDtcblxuY29uc3QgZ2V0UmVmcmVzaFRva2VuID0gKGF1ZGllbmNlOiBzdHJpbmcsIHNjb3BlOiBzdHJpbmcpID0+XG4gIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHNldFJlZnJlc2hUb2tlbiA9IChcbiAgcmVmcmVzaFRva2VuOiBzdHJpbmcsXG4gIGF1ZGllbmNlOiBzdHJpbmcsXG4gIHNjb3BlOiBzdHJpbmdcbikgPT4gKHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV0gPSByZWZyZXNoVG9rZW4pO1xuXG5jb25zdCBkZWxldGVSZWZyZXNoVG9rZW4gPSAoYXVkaWVuY2U6IHN0cmluZywgc2NvcGU6IHN0cmluZykgPT5cbiAgZGVsZXRlIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHdhaXQgPSAodGltZTogbnVtYmVyKSA9PlxuICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgdGltZSkpO1xuXG5jb25zdCBtZXNzYWdlSGFuZGxlciA9IGFzeW5jICh7XG4gIGRhdGE6IHsgdGltZW91dCwgYXV0aCwgZmV0Y2hVcmwsIGZldGNoT3B0aW9ucyB9LFxuICBwb3J0czogW3BvcnRdXG59OiBNZXNzYWdlRXZlbnQ8V29ya2VyUmVmcmVzaFRva2VuTWVzc2FnZT4pID0+IHtcbiAgbGV0IGpzb246IHtcbiAgICByZWZyZXNoX3Rva2VuPzogc3RyaW5nO1xuICB9O1xuXG4gIGNvbnN0IHsgYXVkaWVuY2UsIHNjb3BlIH0gPSBhdXRoIHx8IHt9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2UoZmV0Y2hPcHRpb25zLmJvZHkpO1xuXG4gICAgaWYgKCFib2R5LnJlZnJlc2hfdG9rZW4gJiYgYm9keS5ncmFudF90eXBlID09PSAncmVmcmVzaF90b2tlbicpIHtcbiAgICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IGdldFJlZnJlc2hUb2tlbihhdWRpZW5jZSwgc2NvcGUpO1xuXG4gICAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UpO1xuICAgICAgfVxuXG4gICAgICBmZXRjaE9wdGlvbnMuYm9keSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgLi4uYm9keSxcbiAgICAgICAgcmVmcmVzaF90b2tlbjogcmVmcmVzaFRva2VuXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsZXQgYWJvcnRDb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXI7XG5cbiAgICBpZiAodHlwZW9mIEFib3J0Q29udHJvbGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgZmV0Y2hPcHRpb25zLnNpZ25hbCA9IGFib3J0Q29udHJvbGxlci5zaWduYWw7XG4gICAgfVxuXG4gICAgbGV0IHJlc3BvbnNlOiBhbnk7XG5cbiAgICB0cnkge1xuICAgICAgcmVzcG9uc2UgPSBhd2FpdCBQcm9taXNlLnJhY2UoW1xuICAgICAgICB3YWl0KHRpbWVvdXQpLFxuICAgICAgICBmZXRjaChmZXRjaFVybCwgeyAuLi5mZXRjaE9wdGlvbnMgfSlcbiAgICAgIF0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBmZXRjaCBlcnJvciwgcmVqZWN0IGBzZW5kTWVzc2FnZWAgdXNpbmcgYGVycm9yYCBrZXkgc28gdGhhdCB3ZSByZXRyeS5cbiAgICAgIHBvcnQucG9zdE1lc3NhZ2Uoe1xuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAvLyBJZiB0aGUgcmVxdWVzdCB0aW1lcyBvdXQsIGFib3J0IGl0IGFuZCBsZXQgYHN3aXRjaEZldGNoYCByYWlzZSB0aGUgZXJyb3IuXG4gICAgICBpZiAoYWJvcnRDb250cm9sbGVyKSBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcblxuICAgICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGVycm9yOiBcIlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJ1wiXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBpZiAoanNvbi5yZWZyZXNoX3Rva2VuKSB7XG4gICAgICBzZXRSZWZyZXNoVG9rZW4oanNvbi5yZWZyZXNoX3Rva2VuLCBhdWRpZW5jZSwgc2NvcGUpO1xuICAgICAgZGVsZXRlIGpzb24ucmVmcmVzaF90b2tlbjtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlUmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgfVxuXG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogcmVzcG9uc2Uub2ssXG4gICAgICBqc29uXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogZmFsc2UsXG4gICAgICBqc29uOiB7XG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIERvbid0IHJ1biBgYWRkRXZlbnRMaXN0ZW5lcmAgaW4gb3VyIHRlc3RzICh0aGlzIGlzIHJlcGxhY2VkIGluIHJvbGx1cClcbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7IG1lc3NhZ2VIYW5kbGVyIH07XG59IGVsc2Uge1xuICAvLyBAdHMtaWdub3JlXG4gIGFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBtZXNzYWdlSGFuZGxlcik7XG59XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwidGhpcyIsIl9fZ2VuZXJhdG9yIiwidGhpc0FyZyIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwidGhyb3ciLCJyZXR1cm4iLCJTeW1ib2wiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsImRvbmUiLCJ2YWx1ZSIsInBvcCIsInB1c2giLCJlIiwic3RlcCIsInJlZnJlc2hUb2tlbnMiLCJjYWNoZUtleSIsImF1ZGllbmNlIiwic2NvcGUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2EiLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIl9iIiwidGltZW91dCIsImF1dGgiLCJmZXRjaFVybCIsImZldGNoT3B0aW9ucyIsInBvcnQiLCJfYyIsIkpTT04iLCJwYXJzZSIsInJlZnJlc2hfdG9rZW4iLCJncmFudF90eXBlIiwicmVmcmVzaFRva2VuIiwiZ2V0UmVmcmVzaFRva2VuIiwiRXJyb3IiLCJzdHJpbmdpZnkiLCJhYm9ydENvbnRyb2xsZXIiLCJBYm9ydENvbnRyb2xsZXIiLCJzaWduYWwiLCJyZXNwb25zZSIsIlByb21pc2UiLCJyYWNlIiwidGltZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiZmV0Y2giLCJfZCIsInBvc3RNZXNzYWdlIiwiZXJyb3IiLCJlcnJvcl8xIiwibWVzc2FnZSIsImpzb24iLCJhYm9ydCIsInNldFJlZnJlc2hUb2tlbiIsImRlbGV0ZVJlZnJlc2hUb2tlbiIsIm9rIiwiZXJyb3JfZGVzY3JpcHRpb24iLCJlcnJvcl8yIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJ0aGVuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztvRkE2Qk8sSUFBSUEsRUFBVyxXQVFsQixPQVBBQSxFQUFXQyxPQUFPQyxRQUFVLFNBQWtCQyxHQUMxQyxJQUFLLElBQUlDLEVBQUdDLEVBQUksRUFBR0MsRUFBSUMsVUFBVUMsT0FBUUgsRUFBSUMsRUFBR0QsSUFFNUMsSUFBSyxJQUFJSSxLQURUTCxFQUFJRyxVQUFVRixHQUNPSixPQUFPUyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxJQUU5RSxPQUFPTixJQUVLVSxNQUFNQyxLQUFNUCxZQXVDekIsU0FBU1EsRUFBWUMsRUFBU0MsR0FDakMsSUFBc0dDLEVBQUdDLEVBQUdoQixFQUFHaUIsRUFBM0dDLEVBQUksQ0FBRUMsTUFBTyxFQUFHQyxLQUFNLFdBQWEsR0FBVyxFQUFQcEIsRUFBRSxHQUFRLE1BQU1BLEVBQUUsR0FBSSxPQUFPQSxFQUFFLElBQU9xQixLQUFNLEdBQUlDLElBQUssSUFDaEcsT0FBT0wsRUFBSSxDQUFFTSxLQUFNQyxFQUFLLEdBQUlDLE1BQVNELEVBQUssR0FBSUUsT0FBVUYsRUFBSyxJQUF3QixtQkFBWEcsU0FBMEJWLEVBQUVVLE9BQU9DLFVBQVksV0FBYSxPQUFPakIsT0FBVU0sRUFDdkosU0FBU08sRUFBS3JCLEdBQUssT0FBTyxTQUFVMEIsR0FBSyxPQUN6QyxTQUFjQyxHQUNWLEdBQUlmLEVBQUcsTUFBTSxJQUFJZ0IsVUFBVSxtQ0FDM0IsS0FBT2IsT0FDSCxHQUFJSCxFQUFJLEVBQUdDLElBQU1oQixFQUFZLEVBQVI4QixFQUFHLEdBQVNkLEVBQVUsT0FBSWMsRUFBRyxHQUFLZCxFQUFTLFNBQU9oQixFQUFJZ0IsRUFBVSxTQUFNaEIsRUFBRVMsS0FBS08sR0FBSSxHQUFLQSxFQUFFTyxTQUFXdkIsRUFBSUEsRUFBRVMsS0FBS08sRUFBR2MsRUFBRyxLQUFLRSxLQUFNLE9BQU9oQyxFQUUzSixPQURJZ0IsRUFBSSxFQUFHaEIsSUFBRzhCLEVBQUssQ0FBUyxFQUFSQSxFQUFHLEdBQVE5QixFQUFFaUMsUUFDekJILEVBQUcsSUFDUCxLQUFLLEVBQUcsS0FBSyxFQUFHOUIsRUFBSThCLEVBQUksTUFDeEIsS0FBSyxFQUFjLE9BQVhaLEVBQUVDLFFBQWdCLENBQUVjLE1BQU9ILEVBQUcsR0FBSUUsTUFBTSxHQUNoRCxLQUFLLEVBQUdkLEVBQUVDLFFBQVNILEVBQUljLEVBQUcsR0FBSUEsRUFBSyxDQUFDLEdBQUksU0FDeEMsS0FBSyxFQUFHQSxFQUFLWixFQUFFSSxJQUFJWSxNQUFPaEIsRUFBRUcsS0FBS2EsTUFBTyxTQUN4QyxRQUNJLEtBQU1sQyxFQUFJa0IsRUFBRUcsTUFBTXJCLEVBQUlBLEVBQUVLLE9BQVMsR0FBS0wsRUFBRUEsRUFBRUssT0FBUyxLQUFrQixJQUFWeUIsRUFBRyxJQUFzQixJQUFWQSxFQUFHLElBQVcsQ0FBRVosRUFBSSxFQUFHLFNBQ2pHLEdBQWMsSUFBVlksRUFBRyxNQUFjOUIsR0FBTThCLEVBQUcsR0FBSzlCLEVBQUUsSUFBTThCLEVBQUcsR0FBSzlCLEVBQUUsSUFBTSxDQUFFa0IsRUFBRUMsTUFBUVcsRUFBRyxHQUFJLE1BQzlFLEdBQWMsSUFBVkEsRUFBRyxJQUFZWixFQUFFQyxNQUFRbkIsRUFBRSxHQUFJLENBQUVrQixFQUFFQyxNQUFRbkIsRUFBRSxHQUFJQSxFQUFJOEIsRUFBSSxNQUM3RCxHQUFJOUIsR0FBS2tCLEVBQUVDLE1BQVFuQixFQUFFLEdBQUksQ0FBRWtCLEVBQUVDLE1BQVFuQixFQUFFLEdBQUlrQixFQUFFSSxJQUFJYSxLQUFLTCxHQUFLLE1BQ3ZEOUIsRUFBRSxJQUFJa0IsRUFBRUksSUFBSVksTUFDaEJoQixFQUFFRyxLQUFLYSxNQUFPLFNBRXRCSixFQUFLaEIsRUFBS0wsS0FBS0ksRUFBU0ssR0FDMUIsTUFBT2tCLEdBQUtOLEVBQUssQ0FBQyxFQUFHTSxHQUFJcEIsRUFBSSxVQUFlRCxFQUFJZixFQUFJLEVBQ3RELEdBQVksRUFBUjhCLEVBQUcsR0FBUSxNQUFNQSxFQUFHLEdBQUksTUFBTyxDQUFFRyxNQUFPSCxFQUFHLEdBQUtBLEVBQUcsUUFBSyxFQUFRRSxNQUFNLEdBckI5QkssQ0FBSyxDQUFDbEMsRUFBRzBCLE1DM0N0RCxJQ2pDSFMsRUFBd0MsR0FFdENDLEVBQVcsU0FBQ0MsRUFBa0JDLEdBQWtCLE9BQUdELE1BQVlDLEdBMEduRUMsaUJBQWlCLFdBekZJLFNBQU9DLE9GNkNKOUIsRUFBUytCLEVBQVlDLEVBQUdDLEVFNUNoREMsU0FBUUMsWUFBU0MsU0FBTUMsYUFBVUMsaUJBQ3pCQyxvQkYyQ2dCdkMsU0FBUytCLFNBQWVFLHVGRXJDeENOLEdBQUZhLEVBQXNCSixHQUFRLGFBQWxCUiwyQkFLaEIsMkJBRk0zQixFQUFPd0MsS0FBS0MsTUFBTUosRUFBYXJDLE9BRTNCMEMsZUFBcUMsa0JBQXBCMUMsRUFBSzJDLFdBQWdDLENBRzlELEtBRk1DLEVBN0JZLFNBQUNsQixFQUFrQkMsR0FDekMsT0FBQUgsRUFBY0MsRUFBU0MsRUFBVUMsSUE0QlJrQixDQUFnQm5CLEVBQVVDLElBRzdDLE1BQU0sSUFBSW1CLE1ERmhCLCtDQ0tJVCxFQUFhckMsS0FBT3dDLEtBQUtPLGlCQUNwQi9DLElBQ0gwQyxjQUFlRSxLQUlmSSxTQUUyQixtQkFBcEJDLGtCQUNURCxFQUFrQixJQUFJQyxnQkFDdEJaLEVBQWFhLE9BQVNGLEVBQWdCRSxRQUdwQ0MsMEJBR1MsZ0NBQU1DLFFBQVFDLEtBQUssRUF2Q3RCQyxFQXdDRHBCLEVBdkNYLElBQUlrQixTQUFRLFNBQUFHLEdBQVcsT0FBQUMsV0FBV0QsRUFBU0QsT0F3Q3JDRyxNQUFNckIsT0FBZUMscUJBRnZCYyxFQUFXTyxzQkFVWCxrQkFKQXBCLEVBQUtxQixZQUFZLENBQ2ZDLE1BQU9DLEVBQU1DLHFCQU1qQixPQUFLWCxLQVdRQSxFQUFTWSxTQVRoQmYsR0FBaUJBLEVBQWdCZ0IsUUFFckMxQixFQUFLcUIsWUFBWSxDQUNmQyxNQUFPLHNEQU1YRyxFQUFPTCxVQUVFaEIsZUExRVcsU0FDdEJFLEVBQ0FsQixFQUNBQyxHQUNJSCxFQUFjQyxFQUFTQyxFQUFVQyxJQUFVaUIsRUF1RTNDcUIsQ0FBZ0JGLEVBQUtyQixjQUFlaEIsRUFBVUMsVUFDdkNvQyxFQUFLckIsZUF0RVMsU0FBQ2hCLEVBQWtCQyxVQUNyQ0gsRUFBY0MsRUFBU0MsRUFBVUMsSUF1RXBDdUMsQ0FBbUJ4QyxFQUFVQyxHQUcvQlcsRUFBS3FCLFlBQVksQ0FDZlEsR0FBSWhCLEVBQVNnQixHQUNiSix3Q0FHRnpCLEVBQUtxQixZQUFZLENBQ2ZRLElBQUksRUFDSkosS0FBTSxDQUNKSyxrQkFBbUJDLEVBQU1QLGtDQWhGcEIsSUFBQ1IsTUZpREgsS0FEb0N2QixZQUN6QkEsRUFBSXFCLFdBQVUsU0FBVUcsRUFBU2UsR0FDL0MsU0FBU0MsRUFBVXBELEdBQVMsSUFBTUksRUFBS1MsRUFBVXZCLEtBQUtVLElBQVcsTUFBT0csR0FBS2dELEVBQU9oRCxJQUNwRixTQUFTa0QsRUFBU3JELEdBQVMsSUFBTUksRUFBS1MsRUFBaUIsTUFBRWIsSUFBVyxNQUFPRyxHQUFLZ0QsRUFBT2hELElBQ3ZGLFNBQVNDLEVBQUtrRCxHQUFVQSxFQUFPdkQsS0FBT3FDLEVBQVFrQixFQUFPdEQsT0FBUyxJQUFJWSxHQUFFLFNBQVV3QixHQUFXQSxFQUFRa0IsRUFBT3RELFVBQVd1RCxLQUFLSCxFQUFXQyxHQUNuSWpELEdBQU1TLEVBQVlBLEVBQVVwQyxNQUFNRyxFQUFTK0IsR0FBYyxLQUFLckIifQ==",Gi=!1,function(e){return Rr=Rr||Cu(Zi,Ai,Gi),new Worker(Rr,e)}),Xr={},Ri=new tu,wu={memory:function(){return new gu().enclosedCache},localstorage:function(){return new hu}},Xi=function(e){return wu[e]},Uu=function(){return!/Trident.*rv:11\.0/.test(navigator.userAgent)},xu=function(){function e(t){var r,n;if(this.options=t,typeof window!="undefined"&&function(){if(!Vr())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(Fi()===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)}(),this.cacheLocation=t.cacheLocation||"memory",this.cookieStorage=t.legacySameSiteCookie===!1?_t:vu,this.sessionCheckExpiryDays=t.sessionCheckExpiryDays||1,!Xi(this.cacheLocation))throw new Error('Invalid cache location "'+this.cacheLocation+'"');var i,o,c=t.useCookiesForTransactions?this.cookieStorage:Bu;this.cache=Xi(this.cacheLocation)(),this.scope=this.options.scope,this.transactionManager=new pu(c),this.domainUrl="https://"+this.options.domain,this.tokenIssuer=(i=this.options.issuer,o=this.domainUrl,i?i.startsWith("https://")?i:"https://"+i+"/":o+"/"),this.defaultScope=It("openid",((n=(r=this.options)===null||r===void 0?void 0:r.advancedOptions)===null||n===void 0?void 0:n.defaultScope)!==void 0?this.options.advancedOptions.defaultScope:"openid profile email"),this.options.useRefreshTokens&&(this.scope=It(this.scope,"offline_access")),typeof window!="undefined"&&window.Worker&&this.options.useRefreshTokens&&this.cacheLocation==="memory"&&Uu()&&(this.worker=new Fu),this.customOptions=function(u){return u.advancedOptions,u.audience,u.auth0Client,u.authorizeTimeoutInSeconds,u.cacheLocation,u.client_id,u.domain,u.issuer,u.leeway,u.max_age,u.redirect_uri,u.scope,u.useRefreshTokens,z(u,["advancedOptions","audience","auth0Client","authorizeTimeoutInSeconds","cacheLocation","client_id","domain","issuer","leeway","max_age","redirect_uri","scope","useRefreshTokens"])}(t)}return e.prototype._url=function(t){var r=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||Ci)));return""+this.domainUrl+t+"&auth0Client="+r},e.prototype._getParams=function(t,r,n,i,o){var c=this.options,u=(c.domain,c.leeway,c.useRefreshTokens,c.useCookiesForTransactions,c.auth0Client,c.cacheLocation,c.advancedOptions,z(c,["domain","leeway","useRefreshTokens","useCookiesForTransactions","auth0Client","cacheLocation","advancedOptions"]));return w(w(w({},u),t),{scope:It(this.defaultScope,this.scope,t.scope),response_type:"code",response_mode:"query",state:r,nonce:n,redirect_uri:o||this.options.redirect_uri,code_challenge:i,code_challenge_method:"S256"})},e.prototype._authorizeUrl=function(t){return this._url("/authorize?"+wi(t))},e.prototype._verifyIdToken=function(t,r,n){return yu({iss:this.tokenIssuer,aud:this.options.client_id,id_token:t,nonce:r,organizationId:n,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age)})},e.prototype._parseNumber=function(t){return typeof t!="string"?t:parseInt(t,10)||void 0},e.prototype.buildAuthorizeUrl=function(t){return t===void 0&&(t={}),V(this,void 0,void 0,function(){var r,n,i,o,c,u,a,s,l,f,d,h;return Z(this,function(p){switch(p.label){case 0:return r=t.redirect_uri,n=t.appState,i=z(t,["redirect_uri","appState"]),o=Nt(lt()),c=Nt(lt()),u=lt(),[4,Zr(u)];case 1:return a=p.sent(),s=Ar(a),l=t.fragment?"#"+t.fragment:"",f=this._getParams(i,o,c,s,r),d=this._authorizeUrl(f),h=t.organization||this.options.organization,this.transactionManager.create(w({nonce:c,code_verifier:u,appState:n,scope:f.scope,audience:f.audience||"default",redirect_uri:f.redirect_uri},h&&{organizationId:h})),[2,d+l]}})})},e.prototype.loginWithPopup=function(t,r){return t===void 0&&(t={}),r===void 0&&(r={}),V(this,void 0,void 0,function(){var n,i,o,c,u,a,s,l,f,d,h,p,b;return Z(this,function(I){switch(I.label){case 0:return n=z(t,[]),i=Nt(lt()),o=Nt(lt()),c=lt(),[4,Zr(c)];case 1:return u=I.sent(),a=Ar(u),s=this._getParams(n,i,o,a,this.options.redirect_uri||window.location.origin),l=this._authorizeUrl(w(w({},s),{response_mode:"web_message"})),[4,cu(l,w(w({},r),{timeoutInSeconds:r.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}))];case 2:if(f=I.sent(),i!==f.state)throw new Error("Invalid state");return[4,Qe({audience:s.audience,scope:s.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:c,code:f.code,grant_type:"authorization_code",redirect_uri:s.redirect_uri,auth0Client:this.options.auth0Client},this.worker)];case 3:return d=I.sent(),h=t.organization||this.options.organization,p=this._verifyIdToken(d.id_token,o,h),b=w(w({},d),{decodedToken:p,scope:s.scope,audience:s.audience||"default",client_id:this.options.client_id}),this.cache.save(b),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2]}})})},e.prototype.getUser=function(t){return t===void 0&&(t={}),V(this,void 0,void 0,function(){var r,n,i;return Z(this,function(o){return r=t.audience||this.options.audience||"default",n=It(this.defaultScope,this.scope,t.scope),[2,(i=this.cache.get(new yt({client_id:this.options.client_id,audience:r,scope:n})))&&i.decodedToken&&i.decodedToken.user]})})},e.prototype.getIdTokenClaims=function(t){return t===void 0&&(t={}),V(this,void 0,void 0,function(){var r,n,i;return Z(this,function(o){return r=t.audience||this.options.audience||"default",n=It(this.defaultScope,this.scope,t.scope),[2,(i=this.cache.get(new yt({client_id:this.options.client_id,audience:r,scope:n})))&&i.decodedToken&&i.decodedToken.claims]})})},e.prototype.loginWithRedirect=function(t){return t===void 0&&(t={}),V(this,void 0,void 0,function(){var r;return Z(this,function(n){switch(n.label){case 0:return[4,this.buildAuthorizeUrl(t)];case 1:return r=n.sent(),window.location.assign(r),[2]}})})},e.prototype.handleRedirectCallback=function(t){return t===void 0&&(t=window.location.href),V(this,void 0,void 0,function(){var r,n,i,o,c,u,a,s,l,f,d;return Z(this,function(h){switch(h.label){case 0:if((r=t.split("?").slice(1)).length===0)throw new Error("There are no query params available for parsing.");if(n=function(p){p.indexOf("#")>-1&&(p=p.substr(0,p.indexOf("#")));var b=p.split("&"),I={};return b.forEach(function(g){var m=g.split("="),v=m[0],B=m[1];I[v]=decodeURIComponent(B)}),w(w({},I),{expires_in:parseInt(I.expires_in)})}(r.join("")),i=n.state,o=n.code,c=n.error,u=n.error_description,!(a=this.transactionManager.get())||!a.code_verifier)throw new Error("Invalid state");if(this.transactionManager.remove(),c)throw new nu(c,u,i,a.appState);return s={audience:a.audience,scope:a.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:a.code_verifier,grant_type:"authorization_code",code:o,auth0Client:this.options.auth0Client},a.redirect_uri!==void 0&&(s.redirect_uri=a.redirect_uri),[4,Qe(s,this.worker)];case 1:return l=h.sent(),f=this._verifyIdToken(l.id_token,a.nonce,a.organizationId),d=w(w({},l),{decodedToken:f,audience:a.audience,scope:a.scope,client_id:this.options.client_id}),this.cache.save(d),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2,{appState:a.appState}]}})})},e.prototype.checkSession=function(t){return V(this,void 0,void 0,function(){var r;return Z(this,function(n){switch(n.label){case 0:if(!this.cookieStorage.get("auth0.is.authenticated"))return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.getTokenSilently(t)];case 2:return n.sent(),[3,4];case 3:if(r=n.sent(),!ru.includes(r.error))throw r;return[3,4];case 4:return[2]}})})},e.prototype.getTokenSilently=function(t){return t===void 0&&(t={}),V(this,void 0,void 0,function(){var r,n,i,o=this;return Z(this,function(c){return r=w(w({audience:this.options.audience,ignoreCache:!1},t),{scope:It(this.defaultScope,this.scope,t.scope)}),n=r.ignoreCache,i=z(r,["ignoreCache"]),[2,(u=function(){return o._getTokenSilently(w({ignoreCache:n},i))},a=this.options.client_id+"::"+i.audience+"::"+i.scope,s=Xr[a],s||(s=u().finally(function(){delete Xr[a],s=null}),Xr[a]=s),s)];var u,a,s})})},e.prototype._getTokenSilently=function(t){return t===void 0&&(t={}),V(this,void 0,void 0,function(){var r,n,i,o,c,u,a=this;return Z(this,function(s){switch(s.label){case 0:return r=t.ignoreCache,n=z(t,["ignoreCache"]),i=function(){var d=a.cache.get(new yt({scope:n.scope,audience:n.audience||"default",client_id:a.options.client_id}),60);return d&&d.access_token},!r&&(o=i())?[2,o]:[4,(l=function(){return Ri.acquireLock("auth0.lock.getTokenSilently",5e3)},f=10,f===void 0&&(f=3),V(void 0,void 0,void 0,function(){var d;return Z(this,function(h){switch(h.label){case 0:d=0,h.label=1;case 1:return d<f?[4,l()]:[3,4];case 2:if(h.sent())return[2,!0];h.label=3;case 3:return d++,[3,1];case 4:return[2,!1]}})}))];case 1:if(!s.sent())return[3,10];s.label=2;case 2:return s.trys.push([2,,7,9]),!r&&(o=i())?[2,o]:this.options.useRefreshTokens?[4,this._getTokenUsingRefreshToken(n)]:[3,4];case 3:return u=s.sent(),[3,6];case 4:return[4,this._getTokenFromIFrame(n)];case 5:u=s.sent(),s.label=6;case 6:return c=u,this.cache.save(w({client_id:this.options.client_id},c)),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2,c.access_token];case 7:return[4,Ri.releaseLock("auth0.lock.getTokenSilently")];case 8:return s.sent(),[7];case 9:return[3,11];case 10:throw new Sr;case 11:return[2]}var l,f})})},e.prototype.getTokenWithPopup=function(t,r){return t===void 0&&(t={}),r===void 0&&(r={}),V(this,void 0,void 0,function(){return Z(this,function(n){switch(n.label){case 0:return t.audience=t.audience||this.options.audience,t.scope=It(this.defaultScope,this.scope,t.scope),r=w(w({},eu),r),[4,this.loginWithPopup(t,r)];case 1:return n.sent(),[2,this.cache.get(new yt({scope:t.scope,audience:t.audience||"default",client_id:this.options.client_id})).access_token]}})})},e.prototype.isAuthenticated=function(){return V(this,void 0,void 0,function(){return Z(this,function(t){switch(t.label){case 0:return[4,this.getUser()];case 1:return[2,!!t.sent()]}})})},e.prototype.buildLogoutUrl=function(t){t===void 0&&(t={}),t.client_id!==null?t.client_id=t.client_id||this.options.client_id:delete t.client_id;var r=t.federated,n=z(t,["federated"]),i=r?"&federated":"";return this._url("/v2/logout?"+wi(n))+i},e.prototype.logout=function(t){t===void 0&&(t={});var r=t.localOnly,n=z(t,["localOnly"]);if(r&&n.federated)throw new Error("It is invalid to set both the `federated` and `localOnly` options to `true`");if(this.cache.clear(),this.cookieStorage.remove("auth0.is.authenticated"),!r){var i=this.buildLogoutUrl(n);window.location.assign(i)}},e.prototype._getTokenFromIFrame=function(t){return V(this,void 0,void 0,function(){var r,n,i,o,c,u,a,s,l,f,d,h,p,b,I;return Z(this,function(g){switch(g.label){case 0:return r=Nt(lt()),n=Nt(lt()),i=lt(),[4,Zr(i)];case 1:o=g.sent(),c=Ar(o),u=this._getParams(t,r,n,c,t.redirect_uri||this.options.redirect_uri||window.location.origin),a=this._authorizeUrl(w(w({},u),{prompt:"none",response_mode:"web_message"})),s=t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,g.label=2;case 2:return g.trys.push([2,5,,6]),[4,ou(a,this.domainUrl,s)];case 3:if(l=g.sent(),r!==l.state)throw new Error("Invalid state");return f=t.scope,d=t.audience,t.redirect_uri,t.ignoreCache,t.timeoutInSeconds,h=z(t,["scope","audience","redirect_uri","ignoreCache","timeoutInSeconds"]),[4,Qe(w(w(w({},this.customOptions),h),{scope:f,audience:d,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:i,code:l.code,grant_type:"authorization_code",redirect_uri:u.redirect_uri,auth0Client:this.options.auth0Client}),this.worker)];case 4:return p=g.sent(),b=this._verifyIdToken(p.id_token,n),[2,w(w({},p),{decodedToken:b,scope:u.scope,audience:u.audience||"default"})];case 5:throw(I=g.sent()).error==="login_required"&&this.logout({localOnly:!0}),I;case 6:return[2]}})})},e.prototype._getTokenUsingRefreshToken=function(t){return V(this,void 0,void 0,function(){var r,n,i,o,c,u,a,s,l;return Z(this,function(f){switch(f.label){case 0:return t.scope=It(this.defaultScope,this.options.scope,t.scope),(r=this.cache.get(new yt({scope:t.scope,audience:t.audience||"default",client_id:this.options.client_id})))&&r.refresh_token||this.worker?[3,2]:[4,this._getTokenFromIFrame(t)];case 1:return[2,f.sent()];case 2:n=t.redirect_uri||this.options.redirect_uri||window.location.origin,o=t.scope,c=t.audience,t.ignoreCache,t.timeoutInSeconds,u=z(t,["scope","audience","ignoreCache","timeoutInSeconds"]),a=typeof t.timeoutInSeconds=="number"?1e3*t.timeoutInSeconds:null,f.label=3;case 3:return f.trys.push([3,5,,8]),[4,Qe(w(w(w(w(w({},this.customOptions),u),{audience:c,scope:o,baseUrl:this.domainUrl,client_id:this.options.client_id,grant_type:"refresh_token",refresh_token:r&&r.refresh_token,redirect_uri:n}),a&&{timeout:a}),{auth0Client:this.options.auth0Client}),this.worker)];case 4:return i=f.sent(),[3,8];case 5:return(s=f.sent()).message==="The web worker is missing the refresh token"||s.message&&s.message.indexOf("invalid refresh token")>-1?[4,this._getTokenFromIFrame(t)]:[3,7];case 6:return[2,f.sent()];case 7:throw s;case 8:return l=this._verifyIdToken(i.id_token),[2,w(w({},i),{decodedToken:l,scope:t.scope,audience:t.audience||"default"})]}})})},e}(),Ei={isAuthenticated:!1,isLoading:!0},mt=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},Su=E(E({},Ei),{buildAuthorizeUrl:mt,buildLogoutUrl:mt,getAccessTokenSilently:mt,getAccessTokenWithPopup:mt,getIdTokenClaims:mt,loginWithRedirect:mt,loginWithPopup:mt,logout:mt}),Qi=T.createContext(Su),Vu=function(e){mo(t,e);function t(r,n){var i=e.call(this,n||r)||this;return i.error=r,i.error_description=n,i}return t}(Error),Zu=/[?&]code=[^&]+/,Au=/[?&]state=[^&]+/,Gu=/[?&]error=[^&]+/,Ru=function(e){return e===void 0&&(e=window.location.search),Zu.test(e)&&Au.test(e)||Gu.test(e)},Wi=function(e){return function(t){return"error"in t?new Vu(t.error,t.error_description):t instanceof Error?t:new Error(e)}},ki=Wi("Login failed"),Ji=Wi("Get access token failed"),Xu=function(e,t){switch(t.type){case"LOGIN_POPUP_STARTED":return E(E({},e),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return E(E({},e),{isAuthenticated:!!t.user,user:t.user,isLoading:!1,error:void 0});case"USER_UPDATED":return E(E({},e),{isAuthenticated:!!t.user,user:t.user});case"LOGOUT":return E(E({},e),{isAuthenticated:!1,user:void 0});case"ERROR":return E(E({},e),{isLoading:!1,error:t.error})}},Eu=function(e){var t=e.clientId,r=e.redirectUri,n=e.maxAge,i=Ye(e,["clientId","redirectUri","maxAge"]);return E(E({},i),{client_id:t,redirect_uri:r,max_age:n,auth0Client:{name:"auth0-react",version:"1.3.0"}})},Ti=function(e){if(!!e){var t=e.redirectUri,r=Ye(e,["redirectUri"]);return E(E({},r),{redirect_uri:t})}},Qu=function(e){window.history.replaceState({},document.title,(e==null?void 0:e.returnTo)||window.location.pathname)},Wu=function(e){var t,r=e.children,n=e.skipRedirectCallback,i=e.onRedirectCallback,o=i===void 0?Qu:i,c=Ye(e,["children","skipRedirectCallback","onRedirectCallback"]),u=T.useState(function(){return new xu(Eu(c))})[0],a=T.useReducer(Xu,Ei),s=a[0],l=a[1];T.useEffect(function(){(function(){return pe(void 0,void 0,void 0,function(){var B,R,X;return Ie(this,function(U){switch(U.label){case 0:return U.trys.push([0,6,,7]),Ru()&&!n?[4,u.handleRedirectCallback()]:[3,2];case 1:return B=U.sent().appState,o(B),[3,4];case 2:return[4,u.checkSession()];case 3:U.sent(),U.label=4;case 4:return[4,u.getUser()];case 5:return R=U.sent(),l({type:"INITIALISED",user:R}),[3,7];case 6:return X=U.sent(),l({type:"ERROR",error:ki(X)}),[3,7];case 7:return[2]}})})})()},[u,o,n]);var f=T.useCallback(function(B){return u.buildAuthorizeUrl(Ti(B))},[u]),d=T.useCallback(function(B){return u.buildLogoutUrl(B)},[u]),h=T.useCallback(function(B){return u.loginWithRedirect(Ti(B))},[u]),p=T.useCallback(function(B,R){return pe(void 0,void 0,void 0,function(){var X,U;return Ie(this,function(Q){switch(Q.label){case 0:l({type:"LOGIN_POPUP_STARTED"}),Q.label=1;case 1:return Q.trys.push([1,3,,4]),[4,u.loginWithPopup(B,R)];case 2:return Q.sent(),[3,4];case 3:return X=Q.sent(),l({type:"ERROR",error:ki(X)}),[2];case 4:return[4,u.getUser()];case 5:return U=Q.sent(),l({type:"LOGIN_POPUP_COMPLETE",user:U}),[2]}})})},[u]),b=T.useCallback(function(B){B===void 0&&(B={}),u.logout(B),B.localOnly&&l({type:"LOGOUT"})},[u]),I=(t=s.user)===null||t===void 0?void 0:t.updated_at,g=T.useCallback(function(B){return pe(void 0,void 0,void 0,function(){var R,X,U;return Ie(this,function(Q){switch(Q.label){case 0:return Q.trys.push([0,2,,3]),[4,u.getTokenSilently(B)];case 1:return R=Q.sent(),[3,3];case 2:throw X=Q.sent(),Ji(X);case 3:return[4,u.getUser()];case 4:return U=Q.sent(),(U==null?void 0:U.updated_at)!==I&&l({type:"USER_UPDATED",user:U}),[2,R]}})})},[u,I]),m=T.useCallback(function(B,R){return pe(void 0,void 0,void 0,function(){var X,U,Q;return Ie(this,function(Ot){switch(Ot.label){case 0:return Ot.trys.push([0,2,,3]),[4,u.getTokenWithPopup(B,R)];case 1:return X=Ot.sent(),[3,3];case 2:throw U=Ot.sent(),Ji(U);case 3:return[4,u.getUser()];case 4:return Q=Ot.sent(),(Q==null?void 0:Q.updated_at)!==I&&l({type:"USER_UPDATED",user:Q}),[2,X]}})})},[u,I]),v=T.useCallback(function(B){return u.getIdTokenClaims(B)},[u]);return T.createElement(Qi.Provider,{value:E(E({},s),{buildAuthorizeUrl:f,buildLogoutUrl:d,getAccessTokenSilently:g,getAccessTokenWithPopup:m,getIdTokenClaims:v,loginWithRedirect:h,loginWithPopup:p,logout:b})},r)},ku=function(){return T.useContext(Qi)};export{Wu as Auth0Provider,ku as useAuth0};
